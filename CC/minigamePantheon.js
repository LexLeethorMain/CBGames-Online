"use strict";(M={}).parent=Game.Objects.Temple,(M.parent.minigame=M).launch=function(){var p=this;p.name=p.parent.minigameName,p.init=function(e){p.gods={asceticism:{name:"Holobore, Spirit of Asceticism",icon:[21,18],desc1:'<span class="green">'+loc("+%1% base CpS.",15)+"</span>",desc2:'<span class="green">'+loc("+%1% base CpS.",10)+"</span>",desc3:'<span class="green">'+loc("+%1% base CpS.",5)+"</span>",descAfter:'<span class="red">'+loc("If a golden cookie is clicked, this spirit is unslotted and all worship swaps will be used up.")+"</span>",quote:"An immortal life spent focusing on the inner self, away from the distractions of material wealth."},decadence:{name:"Vomitrax, Spirit of Decadence",icon:[22,18],desc1:'<span class="green">'+loc("Golden and wrath cookie effect duration +%1%.",7)+'</span> <span class="red">'+loc("Buildings grant -%1% CpS.",7)+"</span>",desc2:'<span class="green">'+loc("Golden and wrath cookie effect duration +%1%.",5)+'</span> <span class="red">'+loc("Buildings grant -%1% CpS.",5)+"</span>",desc3:'<span class="green">'+loc("Golden and wrath cookie effect duration +%1%.",2)+'</span> <span class="red">'+loc("Buildings grant -%1% CpS.",2)+"</span>",quote:"This sleazy spirit revels in the lust for quick easy gain and contempt for the value of steady work."},ruin:{name:"Godzamok, Spirit of Ruin",icon:[23,18],descBefore:'<span class="green">'+loc("Selling buildings triggers a buff boosted by how many buildings were sold.")+"</span>",desc1:'<span class="green">'+loc("Buff boosts clicks by +%1% for every building sold for %2 seconds.",[1,10])+"</span>",desc2:'<span class="green">'+loc("Buff boosts clicks by +%1% for every building sold for %2 seconds.",[.5,10])+"</span>",desc3:'<span class="green">'+loc("Buff boosts clicks by +%1% for every building sold for %2 seconds.",[.25,10])+"</span>",quote:"The embodiment of natural disasters. An impenetrable motive drives the devastation caused by this spirit."},ages:{name:"Cyclius, Spirit of Ages",icon:[24,18],activeDescFunc:function(){var e=Game.hasGod("ages"),s=1;return 1==e?s*=.15*Math.sin(Date.now()/1e3/10800*Math.PI*2):2==e?s*=.15*Math.sin(Date.now()/1e3/43200*Math.PI*2):3==e&&(s*=.15*Math.sin(Date.now()/1e3/86400*Math.PI*2)),loc("Current bonus:")+" "+(s<0?"-":"+")+Beautify(100*Math.abs(s),2)+"%"},descBefore:loc("CpS bonus fluctuating between %1 and %2 over time.",['<span class="green">+15%</span>','<span class="red">-15%</span>']),desc1:loc("Effect cycles over %1 hours.",3),desc2:loc("Effect cycles over %1 hours.",12),desc3:loc("Effect cycles over %1 hours.",24),quote:"This spirit knows about everything you'll ever do, and enjoys dispensing a harsh judgment."},seasons:{name:"Selebrak, Spirit of Festivities",icon:[25,18],descBefore:'<span class="green">'+loc("Some seasonal effects are boosted.")+"</span>",desc1:'<span class="green">'+loc("Large boost.")+'</span> <span class="red">'+loc("Switching seasons is %1% pricier.",100)+"</span>",desc2:'<span class="green">'+loc("Medium boost.")+'</span> <span class="red">'+loc("Switching seasons is %1% pricier.",50)+"</span>",desc3:'<span class="green">'+loc("Small boost.")+'</span> <span class="red">'+loc("Switching seasons is %1% pricier.",25)+"</span>",quote:"This is the spirit of merry getaways and regretful Monday mornings."},creation:{name:"Dotjeiess, Spirit of Creation",icon:[26,18],desc1:'<span class="green">'+loc("All buildings are <b>%1% cheaper</b>.",7)+'</span> <span class="red">'+loc("Heavenly chips have %1% less effect.",30)+"</span>",desc2:'<span class="green">'+loc("All buildings are <b>%1% cheaper</b>.",5)+'</span> <span class="red">'+loc("Heavenly chips have %1% less effect.",20)+"</span>",desc3:'<span class="green">'+loc("All buildings are <b>%1% cheaper</b>.",2)+'</span> <span class="red">'+loc("Heavenly chips have %1% less effect.",10)+"</span>",quote:"All things that be and ever will be were scripted long ago by this spirit's inscrutable tendrils."},labor:{name:"Muridal, Spirit of Labor",icon:[27,18],desc1:'<span class="green">'+loc("Clicking is <b>%1%</b> more powerful.",15)+'</span> <span class="red">'+loc("Buildings produce %1% less.",3)+"</span>",desc2:'<span class="green">'+loc("Clicking is <b>%1%</b> more powerful.",10)+'</span> <span class="red">'+loc("Buildings produce %1% less.",2)+"</span>",desc3:'<span class="green">'+loc("Clicking is <b>%1%</b> more powerful.",5)+'</span> <span class="red">'+loc("Buildings produce %1% less.",1)+"</span>",quote:"This spirit enjoys a good cheese after a day of hard work."},industry:{name:"Jeremy, Spirit of Industry",icon:[28,18],desc1:'<span class="green">'+loc("Buildings produce %1% more.",10)+'</span> <span class="red">'+loc("Golden and wrath cookies appear %1% less.",10)+"</span>",desc2:'<span class="green">'+loc("Buildings produce %1% more.",6)+'</span> <span class="red">'+loc("Golden and wrath cookies appear %1% less.",6)+"</span>",desc3:'<span class="green">'+loc("Buildings produce %1% more.",3)+'</span> <span class="red">'+loc("Golden and wrath cookies appear %1% less.",3)+"</span>",quote:"While this spirit has many regrets, helping you rule the world through constant industrialization is not one of them."},mother:{name:"Mokalsium, Mother Spirit",icon:[29,18],desc1:'<span class="green">'+loc("Milk is <b>%1% more powerful</b>.",10)+'</span> <span class="red">'+loc("Golden and wrath cookies appear %1% less.",15)+"</span>",desc2:'<span class="green">'+loc("Milk is <b>%1% more powerful</b>.",5)+'</span> <span class="red">'+loc("Golden and wrath cookies appear %1% less.",10)+"</span>",desc3:'<span class="green">'+loc("Milk is <b>%1% more powerful</b>.",3)+'</span> <span class="red">'+loc("Golden and wrath cookies appear %1% less.",5)+"</span>",quote:"A caring spirit said to contain itself, inwards infinitely."},scorn:{name:"Skruuia, Spirit of Scorn",icon:[21,19],descBefore:'<span class="red">'+loc("All golden cookies are wrath cookies with a greater chance of a negative effect.")+"</span>",desc1:'<span class="green">'+loc("Wrinklers appear %1% faster and digest %2% more cookies.",[150,15])+"</span>",desc2:'<span class="green">'+loc("Wrinklers appear %1% faster and digest %2% more cookies.",[100,10])+"</span>",desc3:'<span class="green">'+loc("Wrinklers appear %1% faster and digest %2% more cookies.",[50,5])+"</span>",quote:"This spirit enjoys poking foul beasts and watching them squirm, but has no love for its own family."},order:{name:"Rigidel, Spirit of Order",icon:[22,19],activeDescFunc:function(){return Game.BuildingsOwned%10==0?loc("Buildings owned:")+" "+Beautify(Game.BuildingsOwned)+"<br>"+loc("Effect is active."):loc("Buildings owned:")+" "+Beautify(Game.BuildingsOwned)+"<br>"+loc("Effect is inactive.")},desc1:'<span class="green">'+loc("Sugar lumps ripen <b>%1</b> sooner.",Game.sayTime(3600*Game.fps))+"</span>",desc2:'<span class="green">'+loc("Sugar lumps ripen <b>%1</b> sooner.",Game.sayTime(2400*Game.fps))+"</span>",desc3:'<span class="green">'+loc("Sugar lumps ripen <b>%1</b> sooner.",Game.sayTime(1200*Game.fps))+"</span>",descAfter:'<span class="red">'+loc("Effect is only active when your total amount of buildings ends with 0.")+"</span>",quote:"You will find that life gets just a little bit sweeter if you can motivate this spirit with tidy numbers and properly-filled tax returns."}},p.godsById=[];var s,o=0;for(s in p.gods){var t=p.gods[s];t.id=o,t.name=loc(FindLocStringByPart("GOD "+(t.id+1)+" NAME")),t.quote=loc(FindLocStringByPart("GOD "+(t.id+1)+" QUOTE")),t.slot=-1,p.godsById[o]=t,o++}for(s in p.slot=[],p.slot[0]=-1,p.slot[1]=-1,p.slot[2]=-1,p.slotNames=["Diamond","Ruby","Jade"],p.swaps=3,p.swapT=Date.now(),p.lastSwapT=0,p.godTooltip=function(s){return function(){var e=p.godsById[s];return e.icon=e.icon||[0,0],'<div style="padding:8px 4px;min-width:350px;" id="tooltipGod"><div class="icon" style="float:left;margin-left:-8px;margin-top:-8px;background-position:'+48*-e.icon[0]+"px "+48*-e.icon[1]+'px;"></div><div class="name">'+e.name+'</div><div class="line"></div><div class="description"><div style="margin:6px 0px;font-weight:bold;">'+loc("Effects:")+"</div>"+(e.descBefore?'<div class="templeEffect">'+e.descBefore+"</div>":"")+(e.desc1?'<div class="templeEffect templeEffect1"><div class="usesIcon shadowFilter templeGem templeGem1"></div>'+e.desc1+"</div>":"")+(e.desc2?'<div class="templeEffect templeEffect2"><div class="usesIcon shadowFilter templeGem templeGem2"></div>'+e.desc2+"</div>":"")+(e.desc3?'<div class="templeEffect templeEffect3"><div class="usesIcon shadowFilter templeGem templeGem3"></div>'+e.desc3+"</div>":"")+(e.descAfter?'<div class="templeEffect">'+e.descAfter+"</div>":"")+(e.quote?"<q>"+e.quote+"</q>":"")+"</div></div>"}},p.slotTooltip=function(o){return function(){var e,s;return-1!=p.slot[o]&&(s=(e=p.godsById[p.slot[o]]).slot,Game.hasAura("Supreme Intellect")&&(s=Math.max(0,s-1)),e.icon=e.icon||[0,0]),'<div style="padding:8px 4px;min-width:350px;" id="tooltipPantheonSlot">'+(-1!=p.slot[o]?'<div class="name templeEffect" style="margin-bottom:12px;"><div class="usesIcon shadowFilter templeGem templeGem'+(parseInt(o)+1)+'"></div>'+loc(p.slotNames[o]+" slot")+'</div><div class="icon" style="float:left;margin-left:-8px;margin-top:-8px;background-position:'+48*-e.icon[0]+"px "+48*-e.icon[1]+'px;"></div><div class="name">'+e.name+'</div><div class="line"></div><div class="description"><div style="margin:6px 0px;font-weight:bold;">'+loc("Effects:")+"</div>"+(e.activeDescFunc?'<div class="templeEffect templeEffectOn" style="padding:8px 4px;text-align:center;">'+e.activeDescFunc()+"</div>":"")+(e.descBefore?'<div class="templeEffect">'+e.descBefore+"</div>":"")+(e.desc1?'<div class="templeEffect templeEffect1'+(0==s?" templeEffectOn":"")+'"><div class="usesIcon shadowFilter templeGem templeGem1"></div>'+e.desc1+"</div>":"")+(e.desc2?'<div class="templeEffect templeEffect2'+(1==s?" templeEffectOn":"")+'"><div class="usesIcon shadowFilter templeGem templeGem2"></div>'+e.desc2+"</div>":"")+(e.desc3?'<div class="templeEffect templeEffect3'+(2==s?" templeEffectOn":"")+'"><div class="usesIcon shadowFilter templeGem templeGem3"></div>'+e.desc3+"</div>":"")+(e.descAfter?'<div class="templeEffect">'+e.descAfter+"</div>":"")+(e.quote?"<q>"+e.quote+"</q>":"")+"</div>":'<div class="name templeEffect"><div class="usesIcon shadowFilter templeGem templeGem'+(parseInt(o)+1)+'"></div>'+loc(p.slotNames[o]+" slot")+" ("+loc("empty")+')</div><div class="line"></div><div class="description">'+(p.slotHovered==o&&p.dragging?loc("Release to assign %1 to this slot.","<b>"+p.dragging.name+"</b>"):loc("Drag a spirit onto this slot to assign it."))+"</div>")+"</div>"}},p.useSwap=function(e){p.swapT=Date.now(),p.swaps-=e,p.swaps<0&&(p.swaps=0)},p.slotGod=function(e,s){if(s==e.slot)return!1;-1!=s&&-1!=p.slot[s]?(p.godsById[p.slot[s]].slot=e.slot,p.slot[e.slot]=p.slot[s]):-1!=e.slot&&(p.slot[e.slot]=-1),-1!=s&&(p.slot[s]=e.id),e.slot=s,Game.recalculateGains=!0},p.dragging=!1,p.dragGod=function(e){p.dragging=e;var s=(e=l("templeGod"+e.id)).getBounds(),o=l("templeDrag").getBounds(),t=(e.className="ready templeGod titleFont templeDragged",l("templeDrag").appendChild(e),s.left-o.left),s=s.top-o.top;e.style.transform="translate("+t+"px,"+s+"px)",l("templeGodPlaceholder"+p.dragging.id).style.display="inline-block",PlaySound("snd/tick.mp3")},p.dropGod=function(){var e,s,o,t;p.dragging&&((e=l("templeGod"+p.dragging.id)).className="ready templeGod titleFont",e.style.transform="none",-1==p.slotHovered||0!=p.swaps&&p.dragging.slot!=p.slotHovered?-1!=p.slotHovered?(p.useSwap(1),p.lastSwapT=0,-1!=(o=p.slot[p.slotHovered])&&(o=p.godsById[o],s=l("templeGod"+o.id),-1!=p.dragging.slot?l("templeSlot"+p.dragging.slot).appendChild(s):(t=l("templeGodPlaceholder"+o.id)).parentNode.insertBefore(s,t)),l("templeSlot"+p.slotHovered).appendChild(e),p.slotGod(p.dragging,p.slotHovered),PlaySound("snd/tick.mp3"),PlaySound("snd/spirit.mp3",.5),o=e.getBounds(),Game.SparkleAt((o.left+o.right)/2,(o.top+o.bottom)/2-24+32-TopBarOffset)):((t=l("templeGodPlaceholder"+p.dragging.id)).parentNode.insertBefore(e,t),t.style.display="none",p.slotGod(p.dragging,-1),PlaySound("snd/sell1.mp3",.75)):(-1!=p.dragging.slot?l("templeSlot"+p.dragging.slot).appendChild(e):l("templeGodPlaceholder"+p.dragging.id).parentNode.insertBefore(e,l("templeGodPlaceholder"+p.dragging.id)),PlaySound("snd/sell1.mp3",.75)),p.dragging=!1)},p.slotHovered=-1,p.hoverSlot=function(e){p.slotHovered=e,p.dragging&&(-1==p.slotHovered?l("templeGodPlaceholder"+p.dragging.id).style.display="inline-block":l("templeGodPlaceholder"+p.dragging.id).style.display="none",PlaySound("snd/clickb"+Math.floor(7*Math.random()+1)+".mp3",.75))},Game.hasGod=function(e){for(var s=p.gods[e],o=0;o<3;o++)if(p.slot[o]==s.id)return Game.hasAura("Supreme Intellect")?Math.max(1,o):o+1;return!1},Game.forceUnslotGod=function(e){var s,o;return-1!=(e=p.gods[e]).slot&&(s=l("templeGod"+e.id),(o=l("templeGodPlaceholder"+e.id)).parentNode.insertBefore(s,o),o.style.display="none",p.slotGod(e,-1),!0)},Game.useSwap=p.useSwap,p.dragonBoostTooltip=function(){return'<div style="width:280px;padding:8px;text-align:center;" id="tooltipDragonBoost"><b>'+loc("Supreme Intellect")+'</b><div class="line"></div>'+loc("The jade slot behaves as a ruby slot and the ruby slot behaves as a diamond slot.")+"</div>"},n=(n="")+("<style>#templeBG{background:url("+Game.resPath+"img/shadedBorders.png),url("+Game.resPath+"img/BGpantheon.jpg);background-size:100% 100%,auto;position:absolute;left:0px;right:0px;top:0px;bottom:16px;}#templeContent{position:relative;box-sizing:border-box;padding:4px 24px;text-align:center;}#templeGods{text-align:center;width:100%;padding:8px;box-sizing:border-box;}.templeIcon{pointer-events:none;margin:12px 6px 0px 6px;width:48px;height:48px;opacity:0.8;position:relative;}.templeSlot .templeIcon{margin:2px 6px 0px 6px;}.templeGod{box-shadow:4px 4px 4px #000;cursor:pointer;position:relative;color:#f33;opacity:0.8;text-shadow:0px 0px 4px #000,0px 0px 6px #000;font-weight:bold;font-size:12px;display:inline-block;width:60px;height:74px;background:url("+Game.resPath)+'img/spellBG.png);}.templeGod.ready{color:rgba(255,255,255,0.8);opacity:1;}.templeGod.ready:hover{color:#fff;}.templeGod:hover,.templeDragged{box-shadow:6px 6px 6px 2px #000;z-index:1000000001;top:-1px;}.templeGod:active{top:1px;}.templeGod.ready .templeIcon{opacity:1;}.templeGod:hover{background-position:0px -74px;} .templeGod:active{background-position:0px 74px;}.templeGod1{background-position:-60px 0px;} .templeGod1:hover{background-position:-60px -74px;} .templeGod1:active{background-position:-60px 74px;}.templeGod2{background-position:-120px 0px;} .templeGod2:hover{background-position:-120px -74px;} .templeGod2:active{background-position:-120px 74px;}.templeGod3{background-position:-180px 0px;} .templeGod3:hover{background-position:-180px -74px;} .templeGod3:active{background-position:-180px 74px;}.templeGod:hover .templeIcon{top:-1px;}.templeGod.ready:hover .templeIcon{animation-name:bounce;animation-iteration-count:infinite;animation-duration:0.8s;}.noFancy .templeGod.ready:hover .templeIcon{animation:none;}.templeGem{z-index:100;width:24px;height:24px;}.templeEffect{font-weight:bold;font-size:11px;position:relative;margin:0px -12px;padding:4px;padding-left:28px;}.description .templeEffect{border-top:1px solid rgba(255,255,255,0.15);background:linear-gradient(to top,rgba(255,255,255,0.1),rgba(255,255,255,0));}.templeEffect .templeGem{position:absolute;left:0px;top:0px;}.templeEffectOn{text-shadow:0px 0px 6px currentColor;color:#fff;}.templeGod .templeGem{position:absolute;left:18px;bottom:8px;pointer-events:none;}.templeGem1{background-position:-1104px -720px;}.templeGem2{background-position:-1128px -720px;}.templeGem3{background-position:-1104px -744px;}.templeSlot .templeGod,.templeSlot .templeGod:hover,.templeSlot .templeGod:active{background:none;}.templeSlotDrag{position:absolute;left:0px;top:0px;right:0px;bottom:0px;background:#999;opacity:0;cursor:pointer;}#templeDrag{position:absolute;left:0px;top:0px;z-index:1000000000000;}.templeGod{transition:transform 0.1s;}#templeDrag .templeGod{position:absolute;left:0px;top:0px;}.templeDragged{pointer-events:none;}.templeGodPlaceholder{background:red;opacity:0;display:none;width:60px;height:74px;}#templeSlots{margin:4px auto;text-align:center;}#templeSlot0{top:-4px;}#templeSlot1{top:0px;}#templeSlot2{top:4px;}#templeInfo{position:relative;display:inline-block;margin:8px auto 0px auto;padding:8px 16px;padding-left:32px;text-align:center;font-size:11px;color:rgba(255,255,255,0.75);text-shadow:-1px 1px 0px #000;background:rgba(0,0,0,0.75);border-radius:16px;}</style><div id="templeBG"></div><div id="templeContent"><div id="templeDrag"></div><div id="templeSlots">',p.slot){var a=p.slot[s];n+='<div class="ready templeGod templeGod'+s%4+' templeSlot titleFont" id="templeSlot'+s+'" '+Game.getDynamicTooltip("Game.ObjectsById["+p.parent.id+"].minigame.slotTooltip("+s+")","this")+'><div class="usesIcon shadowFilter templeGem templeGem'+(parseInt(s)+1)+'"></div></div>'}for(s in n=(n+="</div>")+'<div id="templeInfo"><div '+Game.getDynamicTooltip("Game.ObjectsById["+p.parent.id+"].minigame.refillTooltip","this")+' id="templeLumpRefill" class="usesIcon shadowFilter lumpRefill" style="left:-6px;top:-10px;background-position:'+-1392+"px "+-672+'px;"></div><div id="templeSwaps" '+Game.getTooltip('<div style="padding:8px;width:350px;font-size:11px;text-align:center;">'+loc('Each time you slot a spirit, you use up one worship swap.<div class="line"></div>If you have 2 swaps left, the next one will refill after %1.<br>If you have 1 swap left, the next one will refill after %2.<br>If you have 0 swaps left, you will get one after %3.<div class="line"></div>Unslotting a spirit costs no swaps.',[Game.sayTime(3600*Game.fps),Game.sayTime(14400*Game.fps),Game.sayTime(57600*Game.fps)])+"</div>")+'>-</div></div><div id="templeGods">',p.gods)var i=(a=p.gods[s]).icon||[0,0],n=(n+='<div class="ready templeGod templeGod'+a.id%4+' titleFont" id="templeGod'+a.id+'" '+Game.getDynamicTooltip("Game.ObjectsById["+p.parent.id+"].minigame.godTooltip("+a.id+")","this")+'><div class="usesIcon shadowFilter templeIcon" style="background-position:'+48*-i[0]+"px "+48*-i[1]+'px;"></div><div class="templeSlotDrag" id="templeGodDrag'+a.id+'"></div></div>')+'<div class="templeGodPlaceholder" id="templeGodPlaceholder'+a.id+'"></div>';for(s in e.innerHTML=n+="</div></div>",p.swapsL=l("templeSwaps"),p.lumpRefill=l("templeLumpRefill"),p.gods)a=p.gods[s],AddEvent(l("templeGodDrag"+a.id),"mousedown",function(s){return function(e){0==e.button&&p.dragGod(s)}}(a)),AddEvent(l("templeGodDrag"+a.id),"mouseup",function(s){return function(e){0==e.button&&p.dropGod(s)}}(a));for(s in p.slot)a=p.slot[s],AddEvent(l("templeSlot"+s),"mouseover",function(e){return function(){p.hoverSlot(e)}}(s)),AddEvent(l("templeSlot"+s),"mouseout",function(e){0==e.button&&p.hoverSlot(-1)});AddEvent(document,"mouseup",p.dropGod),p.refillTooltip=function(){return'<div style="padding:8px;width:300px;font-size:11px;text-align:center;" id="tooltipRefill">'+loc("Click to refill all your worship swaps for %1.",'<span class="price lump">'+loc("%1 sugar lump",LBeautify(1))+"</span>")+(Game.canRefillLump()?"<br><small>("+loc("can be done once every %1",Game.sayTime(Game.getLumpRefillMax(),-1))+")</small>":'<br><small class="red">('+loc("usable again in %1",Game.sayTime(Game.getLumpRefillRemaining()+Game.fps,-1))+")</small>")+"</div>"},AddEvent(p.lumpRefill,"click",function(){p.swaps<3&&Game.refillLump(1,function(){p.swaps=3,p.swapT=Date.now(),PlaySound("snd/pop"+Math.floor(3*Math.random()+1)+".mp3",.75)})})},p.save=function(){var e,s="";for(e in p.slot)s+=parseFloat(p.slot[e])+"/";return s=s.slice(0,-1),(s+=" "+parseFloat(p.swaps)+" "+parseFloat(p.swapT))+" "+parseInt(p.parent.onMinigame?"1":"0")},p.load=function(e){if(!e)return!1;var s,o,t=0,a=(e=e.split(" "))[t++].split("/")||[];for(s in p.slot)-1!=parseFloat(a[s])&&(o=p.godsById[parseFloat(a[s])],p.slotGod(o,s),l("templeSlot"+o.slot).appendChild(l("templeGod"+o.id)));p.swaps=parseFloat(e[+t]||3),p.swapT=parseFloat(e[2]||Date.now()),parseInt(e[3]||0)&&1!=Game.ascensionMode&&p.parent.switchMinigame(1)},p.reset=function(){for(var e in p.swaps=3,p.swapT=Date.now(),p.slot)p.slot[e]=-1;for(var e in p.gods){var s=p.gods[e],o=(s.slot=-1,l("templeGodPlaceholder"+s.id));o.parentNode.insertBefore(l("templeGod"+s.id),o),o.style.display="none"}},p.logic=function(){var e=36e5;0==p.swaps?e=576e5:1==p.swaps&&(e=144e5),p.swapT+e-Date.now()<=0&&p.swaps<3&&(p.swaps++,p.swapT=Date.now()),p.lastSwapT++},p.draw=function(){p.dragging&&(t=l("templeDrag").getBounds(),e=Game.mouseX-t.left-30,s=Game.mouseY-t.top-32+TopBarOffset,-1!=p.slotHovered&&(e=(o=l("templeSlot"+p.slotHovered).getBounds()).left-t.left,s=o.top-t.top),l("templeGod"+p.dragging.id).style.transform="translate("+e+"px,"+s+"px)");var e,s,o=36e5,t=(0==p.swaps?o=576e5:1==p.swaps&&(o=144e5),p.swapT+o-Date.now());Game.drawT%5==0&&(p.swapsL.innerHTML=loc("Worship swaps: %1",'<span class="titleFont" style="color:'+(0<p.swaps?"#fff":"#c00")+';">'+p.swaps+"/3</span>")+(p.swaps<3?" ("+loc("next in %1",Game.sayTime((t/1e3+1)*Game.fps,-1))+")":""))},p.init(l("rowSpecial"+p.parent.id))};var M=0;