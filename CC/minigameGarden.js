"use strict";(M={}).parent=Game.Objects.Farm,(M.parent.minigame=M).launch=function(){var k=this;k.name=k.parent.minigameName,k.init=function(e){k.plants={bakerWheat:{name:"Baker's wheat",icon:0,cost:1,costM:30,ageTick:7,ageTickR:2,mature:35,children:["bakerWheat","thumbcorn","cronerice","bakeberry","clover","goldenClover","chocoroot","tidygrass"],effsStr:'<div class="green">&bull; '+loc("CpS")+" +1%</div>",q:"A plentiful crop whose hardy grain is used to make flour for pastries.",onHarvest:function(e,o,t){t>=this.mature&&k.dropUpgrade("Wheat slims",.001)}},thumbcorn:{name:"Thumbcorn",icon:1,cost:5,costM:100,ageTick:6,ageTickR:2,mature:20,children:["bakerWheat","thumbcorn","cronerice","gildmillet","glovemorel"],effsStr:'<div class="green">&bull; '+loc("cookies/click")+" +2%</div>",q:"A strangely-shaped variant of corn. The amount of strands that can sprout from one seed is usually in the single digits."},cronerice:{name:"Cronerice",icon:2,cost:15,costM:250,ageTick:.4,ageTickR:.7,mature:55,children:["thumbcorn","gildmillet","elderwort","wardlichen"],effsStr:'<div class="green">&bull; '+loc("%1 CpS",Game.Objects.Grandma.single)+" +3%</div>",q:"Not only does this wrinkly bulb look nothing like rice, it's not even related to it either; its closest extant relative is the weeping willow."},gildmillet:{name:"Gildmillet",icon:3,cost:15,costM:1500,ageTick:2,ageTickR:1.5,mature:40,children:["clover","goldenClover","shimmerlily"],effsStr:'<div class="green">&bull; '+loc("golden cookie gains")+' +1%</div><div class="green">&bull; '+loc("golden cookie effect duration")+" +0.1%</div>",q:"An ancient staple crop, famed for its golden sheen. Was once used to bake birthday cakes for kings and queens of old."},clover:{name:"Ordinary clover",icon:4,cost:25,costM:77777,ageTick:1,ageTickR:1.5,mature:35,children:["goldenClover","greenRot","shimmerlily"],effsStr:'<div class="green">&bull; '+loc("golden cookie frequency")+" +1%</div>",q:"<i>Trifolium repens</i>, a fairly mundane variety of clover with a tendency to produce four leaves. Such instances are considered lucky by some."},goldenClover:{name:"Golden clover",icon:5,cost:125,costM:777777777777,ageTick:4,ageTickR:12,mature:50,children:[],effsStr:'<div class="green">&bull; '+loc("golden cookie frequency")+" +3%</div>",q:"A variant of the ordinary clover that traded its chlorophyll for pure organic gold. Tragically short-lived, this herb is an evolutionary dead-end - but at least it looks pretty."},shimmerlily:{name:"Shimmerlily",icon:6,cost:60,costM:777777,ageTick:5,ageTickR:6,mature:70,children:["elderwort","whiskerbloom","chimerose","cheapcap"],effsStr:'<div class="green">&bull; '+loc("golden cookie gains")+' +1%</div><div class="green">&bull; '+loc("golden cookie frequency")+' +1%</div><div class="green">&bull; '+loc("random drops")+" +1%</div>",q:"These little flowers are easiest to find at dawn, as the sunlight refracting in dew drops draws attention to their pure-white petals."},elderwort:{name:"Elderwort",icon:7,cost:180,costM:1e8,ageTick:.3,ageTickR:.5,mature:90,immortal:1,noContam:!0,detailsStr:cap(loc("immortal")),children:["everdaisy","ichorpuff","shriekbulb"],effsStr:'<div class="green">&bull; '+loc("wrath cookie gains")+' +1%</div><div class="green">&bull; '+loc("wrath cookie frequency")+' +1%</div><div class="green">&bull; '+loc("%1 CpS",Game.Objects.Grandma.single)+' +1%</div><div class="green">&bull; '+loc("immortal")+'</div><div class="gray">&bull; '+loc("surrounding plants (%1x%1) age %2% faster",[3,3])+"</div>",q:"A very old, long-forgotten subspecies of edelweiss that emits a strange, heady scent. There is some anecdotal evidence that these do not undergo molecular aging.",onHarvest:function(e,o,t){t>=this.mature&&k.dropUpgrade("Elderwort biscuits",.01)}},bakeberry:{name:"Bakeberry",icon:8,cost:45,costM:1e8,ageTick:1,ageTickR:1,mature:50,children:["queenbeet"],effsStr:'<div class="green">&bull; '+loc("CpS")+' +1%</div><div class="green">&bull; '+loc("harvest when mature for +%1 of CpS (max. %2% of bank)",[Game.sayTime(1800*Game.fps),3])+"</div>",q:"A favorite among cooks, this large berry has a crunchy brown exterior and a creamy red center. Excellent in pies or chicken stews.",onHarvest:function(e,o,t){t>=this.mature&&(0!=(t=Math.min(.03*Game.cookies,60*Game.cookiesPs*30))&&(Game.Earn(t),Game.Popup("(Bakeberry)<br>+"+Beautify(t)+" cookies!",Game.mouseX,Game.mouseY)),k.dropUpgrade("Bakeberry cookies",.015))}},chocoroot:{name:"Chocoroot",icon:9,cost:15,costM:1e5,ageTick:4,ageTickR:0,mature:25,detailsStr:cap(loc("predictable growth")),children:["whiteChocoroot","drowsyfern","queenbeet"],effsStr:'<div class="green">&bull; '+loc("CpS")+' +1%</div><div class="green">&bull; '+loc("harvest when mature for +%1 of CpS (max. %2% of bank)",[Game.sayTime(180*Game.fps),3])+'</div><div class="green">&bull; '+loc("predictable growth")+"</div>",q:"A tangly bramble coated in a sticky, sweet substance. Unknown genetic ancestry. Children often pick these from fields as-is as a snack.",onHarvest:function(e,o,t){t>=this.mature&&0!=(t=Math.min(.03*Game.cookies,60*Game.cookiesPs*3))&&(Game.Earn(t),Game.Popup("(Chocoroot)<br>+"+Beautify(t)+" cookies!",Game.mouseX,Game.mouseY))}},whiteChocoroot:{name:"White chocoroot",icon:10,cost:15,costM:1e5,ageTick:4,ageTickR:0,mature:25,detailsStr:cap(loc("predictable growth")),children:["whiskerbloom","tidygrass"],effsStr:'<div class="green">&bull; '+loc("golden cookie gains")+' +1%</div><div class="green">&bull; '+loc("harvest when mature for +%1 of CpS (max. %2% of bank)",[Game.sayTime(180*Game.fps),3])+'</div><div class="green">&bull; '+loc("predictable growth")+"</div>",q:"A pale, even sweeter variant of the chocoroot. Often impedes travelers with its twisty branches.",onHarvest:function(e,o,t){t>=this.mature&&0!=(t=Math.min(.03*Game.cookies,60*Game.cookiesPs*3))&&(Game.Earn(t),Game.Popup("(White chocoroot)<br>+"+Beautify(t)+" cookies!",Game.mouseX,Game.mouseY))}},whiteMildew:{name:"White mildew",fungus:!0,icon:26,cost:20,costM:9999,ageTick:8,ageTickR:12,mature:70,detailsStr:cap(loc("spreads easily")),children:["brownMold","whiteChocoroot","wardlichen","greenRot"],effsStr:'<div class="green">&bull; '+loc("CpS")+' +1%</div><div class="gray">&bull; '+loc("may spread as %1",loc("Brown mold"))+"</div>",q:"A common rot that infests shady plots of earth. Grows in little creamy capsules. Smells sweet, but sadly wilts quickly."},brownMold:{name:"Brown mold",fungus:!0,icon:27,cost:20,costM:9999,ageTick:8,ageTickR:12,mature:70,detailsStr:cap(loc("spreads easily")),children:["whiteMildew","chocoroot","keenmoss","wrinklegill"],effsStr:'<div class="red">&bull; '+loc("CpS")+' -1%</div><div class="gray">&bull; '+loc("may spread as %1",loc("White mildew"))+"</div>",q:"A common rot that infests shady plots of earth. Grows in odd reddish clumps. Smells bitter, but thankfully wilts quickly."},meddleweed:{name:"Meddleweed",weed:!0,icon:29,cost:1,costM:10,ageTick:10,ageTickR:6,mature:50,contam:.05,detailsStr:EN?"Grows in empty tiles, spreads easily":cap(loc("grows in empty tiles"))+" / "+cap(loc("spreads easily")),children:["meddleweed","brownMold","crumbspore"],effsStr:'<div class="red">&bull; '+loc("useless")+'</div><div class="red">&bull; '+loc("may overtake nearby plants")+'</div><div class="gray">&bull; '+loc("may sometimes drop spores when uprooted")+"</div>",q:"The sign of a neglected farmland, this annoying weed spawns from unused dirt and may sometimes spread to other plants, killing them in the process.",onKill:function(e,o,t){Math.random()<t/100*.2&&(k.plot[o][e]=[k.plants[choose(["brownMold","crumbspore"])].id+1,0])}},whiskerbloom:{name:"Whiskerbloom",icon:11,cost:20,costM:1e6,ageTick:2,ageTickR:2,mature:60,children:["chimerose","nursetulip"],effsStr:'<div class="green">&bull; '+loc("milk effects")+" +0.2%</div>",q:"Squeezing the translucent pods makes them excrete a milky liquid, while producing a faint squeak akin to a cat's meow."},chimerose:{name:"Chimerose",icon:12,cost:15,costM:242424,ageTick:1,ageTickR:1.5,mature:30,children:["chimerose"],effsStr:'<div class="green">&bull; '+loc("reindeer gains")+' +1%</div><div class="green">&bull; '+loc("reindeer frequency")+" +1%</div>",q:"Originating in the greener flanks of polar mountains, this beautiful flower with golden accents is fragrant enough to make any room feel a little bit more festive."},nursetulip:{name:"Nursetulip",icon:13,cost:40,costM:1e9,ageTick:.5,ageTickR:2,mature:60,children:[],effsStr:'<div class="green">&bull; '+loc("surrounding plants (%1x%1) are %2% more efficient",[3,20])+'</div><div class="red">&bull; '+loc("CpS")+" -2%</div>",q:"This flower grows an intricate root network that distributes nutrients throughout the surrounding soil. The reason for this seemingly altruistic behavior is still unknown."},drowsyfern:{name:"Drowsyfern",icon:14,cost:90,costM:1e5,ageTick:.05,ageTickR:.1,mature:30,children:[],effsStr:'<div class="green">&bull; '+loc("CpS")+' +3%</div><div class="red">&bull; '+loc("cookies/click")+' -5%</div><div class="red">&bull; '+loc("golden cookie frequency")+" -10%</div>",q:"Traditionally used to brew a tea that guarantees a good night of sleep.",onHarvest:function(e,o,t){t>=this.mature&&k.dropUpgrade("Fern tea",.01)}},wardlichen:{name:"Wardlichen",icon:15,cost:10,costM:1e4,ageTick:5,ageTickR:4,mature:65,children:["wardlichen"],effsStr:'<div class="gray">&bull; '+loc("wrath cookie frequency")+' -2%</div><div class="gray">&bull; '+loc("wrinkler spawn rate")+" -15%</div>",q:"The metallic stench that emanates from this organism has been known to keep insects and slugs away."},keenmoss:{name:"Keenmoss",icon:16,cost:50,costM:1e6,ageTick:4,ageTickR:5,mature:65,children:["drowsyfern","wardlichen","keenmoss"],effsStr:'<div class="green">&bull; '+loc("random drops")+" +3%</div>",q:"Fuzzy to the touch and of a vibrant green. In plant symbolism, keenmoss is associated with good luck for finding lost objects."},queenbeet:{name:"Queenbeet",icon:17,cost:90,costM:1e9,ageTick:1,ageTickR:.4,mature:80,noContam:!0,children:["duketater","queenbeetLump","shriekbulb"],effsStr:'<div class="green">&bull; '+loc("golden cookie effect duration")+' +0.3%</div><div class="red">&bull; '+loc("CpS")+' -2%</div><div class="green">&bull; '+loc("harvest when mature for +%1 of CpS (max. %2% of bank)",[Game.sayTime(3600*Game.fps),4])+"</div>",q:"A delicious taproot used to prepare high-grade white sugar. Entire countries once went to war over these.",onHarvest:function(e,o,t){t>=this.mature&&0!=(t=Math.min(.04*Game.cookies,60*Game.cookiesPs*60))&&(Game.Earn(t),Game.Popup("(Queenbeet)<br>+"+Beautify(t)+" cookies!",Game.mouseX,Game.mouseY))}},queenbeetLump:{name:"Juicy queenbeet",icon:18,plantable:!1,cost:120,costM:1e12,ageTick:.04,ageTickR:.08,mature:85,noContam:!0,children:[],effsStr:'<div class="red">&bull; '+loc("CpS")+' -10%</div><div class="red">&bull; '+loc("surrounding plants (%1x%1) are %2% less efficient",[3,20])+'</div><div class="green">&bull; '+loc("harvest when mature for a sugar lump")+"</div>",q:"A delicious taproot used to prepare high-grade white sugar. Entire countries once went to war over these.<br>It looks like this one has grown especially sweeter and juicier from growing in close proximity to other queenbeets.",onHarvest:function(e,o,t){t>=this.mature&&(Game.gainLumps(1),Game.Popup('(Juicy queenbeet)<br>Sweet!<div style="font-size:65%;">Found 1 sugar lump!</div>',Game.mouseX,Game.mouseY))}},duketater:{name:"Duketater",icon:19,cost:480,costM:1e12,ageTick:.4,ageTickR:.1,mature:95,noContam:!0,children:["shriekbulb"],effsStr:'<div class="green">&bull; '+loc("harvest when mature for +%1 of CpS (max. %2% of bank)",[Game.sayTime(7200*Game.fps),8])+"</div>",q:"A rare, rich-tasting tuber fit for a whole meal, as long as its strict harvesting schedule is respected. Its starch has fascinating baking properties.",onHarvest:function(e,o,t){t>=this.mature&&(0!=(t=Math.min(.08*Game.cookies,60*Game.cookiesPs*60*2))&&(Game.Earn(t),Game.Popup("(Duketater)<br>+"+Beautify(t)+" cookies!",Game.mouseX,Game.mouseY)),k.dropUpgrade("Duketater cookies",.005))}},crumbspore:{name:"Crumbspore",fungus:!0,icon:20,cost:10,costM:999,ageTick:3,ageTickR:3,mature:65,contam:.03,noContam:!0,detailsStr:cap(loc("spreads easily")),children:["crumbspore","glovemorel","cheapcap","doughshroom","wrinklegill","ichorpuff"],effsStr:'<div class="green">&bull; '+loc("explodes into up to %1 of CpS at the end of its lifecycle (max. %2% of bank)",[Game.sayTime(60*Game.fps),1])+'</div><div class="red">&bull; '+loc("may overtake nearby plants")+"</div>",q:"An archaic mold that spreads its spores to the surrounding dirt through simple pod explosion.",onDie:function(e,o){var t=Math.min(.01*Game.cookies,60*Game.cookiesPs)*Math.random();0!=t&&(Game.Earn(t),Game.Popup("(Crumbspore)<br>+"+Beautify(t)+" cookies!",Game.mouseX,Game.mouseY))}},doughshroom:{name:"Doughshroom",fungus:!0,icon:24,cost:100,costM:1e8,ageTick:1,ageTickR:2,mature:85,contam:.03,noContam:!0,detailsStr:cap(loc("spreads easily")),children:["crumbspore","doughshroom","foolBolete","shriekbulb"],effsStr:'<div class="green">&bull; '+loc("explodes into up to %1 of CpS at the end of its lifecycle (max. %2% of bank)",[Game.sayTime(300*Game.fps),3])+'</div><div class="red">&bull; '+loc("may overtake nearby plants")+"</div>",q:"Jammed full of warm spores; some forest walkers often describe the smell as similar to passing by a bakery.",onDie:function(e,o){var t=Math.min(.03*Game.cookies,60*Game.cookiesPs*5)*Math.random();0!=t&&(Game.Earn(t),Game.Popup("(Doughshroom)<br>+"+Beautify(t)+" cookies!",Game.mouseX,Game.mouseY))}},glovemorel:{name:"Glovemorel",fungus:!0,icon:21,cost:30,costM:1e4,ageTick:3,ageTickR:18,mature:80,children:[],effsStr:'<div class="green">&bull; '+loc("cookies/click")+' +4%</div><div class="green">&bull; '+loc("%1 CpS",Game.Objects.Cursor.single)+' +1%</div><div class="red">&bull; '+loc("CpS")+" -1%</div>",q:"Touching its waxy skin reveals that the interior is hollow and uncomfortably squishy."},cheapcap:{name:"Cheapcap",fungus:!0,icon:22,cost:40,costM:1e5,ageTick:6,ageTickR:16,mature:40,children:[],effsStr:'<div class="green">&bull; '+(EN?"buildings and upgrades are 0.2% cheaper":loc("building costs")+" -0.2% / "+loc("upgrade costs")+" -0.2%")+'</div><div class="red">&bull; '+loc("cannot handle cold climates; %1% chance to die when frozen",15)+"</div>",q:"Small, tough, and good in omelettes. Some historians propose that the heads of dried cheapcaps were once used as currency in some bronze age societies."},foolBolete:{name:"Fool's bolete",fungus:!0,icon:23,cost:15,costM:1e4,ageTick:5,ageTickR:25,mature:50,children:[],effsStr:'<div class="green">&bull; '+loc("golden cookie frequency")+' +2%</div><div class="red">&bull; '+loc("golden cookie gains")+' -5%</div><div class="red">&bull; '+loc("golden cookie duration")+' -2%</div><div class="red">&bull; '+loc("golden cookie effect duration")+" -2%</div>",q:"Named for its ability to fool mushroom pickers. The fool's bolete is not actually poisonous, it's just extremely bland."},wrinklegill:{name:"Wrinklegill",fungus:!0,icon:25,cost:20,costM:1e6,ageTick:1,ageTickR:3,mature:65,children:["elderwort","shriekbulb"],effsStr:'<div class="gray">&bull; '+loc("wrinkler spawn rate")+' +2%</div><div class="gray">&bull; '+loc("wrinkler appetite")+" +1%</div>",q:"This mushroom's odor resembles that of a well-done steak, and is said to whet the appetite - making one's stomach start gurgling within seconds."},greenRot:{name:"Green rot",fungus:!0,icon:28,cost:60,costM:1e6,ageTick:12,ageTickR:13,mature:65,children:["keenmoss","foolBolete"],effsStr:'<div class="green">&bull; '+loc("golden cookie duration")+' +0.5%</div><div class="green">&bull; '+loc("golden cookie frequency")+' +1%</div><div class="green">&bull; '+loc("random drops")+" +1%</div>",q:'This short-lived mold is also known as "emerald pebbles", and is considered by some as a pseudo-gem that symbolizes good fortune.',onHarvest:function(e,o,t){t>=this.mature&&k.dropUpgrade("Green yeast digestives",.005)}},shriekbulb:{name:"Shriekbulb",icon:30,cost:60,costM:4444444444444,ageTick:3,ageTickR:1,mature:60,noContam:!0,detailsStr:cap(loc("the unfortunate result of some plant combinations")),children:["shriekbulb"],effsStr:'<div class="red">&bull; '+loc("CpS")+' -2%</div><div class="red">&bull; '+loc("surrounding plants (%1x%1) are %2% less efficient",[3,5])+"</div>",q:"A nasty vegetable with a dreadful quirk : its flesh resonates with a high-pitched howl whenever it is hit at the right angle by sunlight, moonlight, or even a slight breeze."},tidygrass:{name:"Tidygrass",icon:31,cost:90,costM:1e14,ageTick:.5,ageTickR:0,mature:40,children:["everdaisy"],effsStr:'<div class="green">&bull; '+loc("surrounding tiles (%1x%1) develop no weeds or fungus",5)+"</div>",q:"The molecules this grass emits are a natural weedkiller. Its stems grow following a predictable pattern, making it an interesting -if expensive- choice for a lawn grass."},everdaisy:{name:"Everdaisy",icon:32,cost:180,costM:1e20,ageTick:.3,ageTickR:0,mature:75,noContam:!0,immortal:1,detailsStr:cap(loc("immortal")),children:[],effsStr:'<div class="green">&bull; '+loc("surrounding tiles (%1x%1) develop no weeds or fungus",3)+'</div><div class="green">&bull; '+loc("immortal")+"</div>",q:"While promoted by some as a superfood owing to its association with longevity and intriguing geometry, this elusive flower is actually mildly toxic."},ichorpuff:{name:"Ichorpuff",fungus:!0,icon:33,cost:120,costM:987654321,ageTick:1,ageTickR:1.5,mature:35,children:[],effsStr:'<div class="green">&bull; '+loc("surrounding plants (%1x%1) age %2% slower",[3,50])+'</div><div class="red">&bull; '+loc("surrounding plants (%1x%1) are %2% less efficient",[3,50])+"</div>",q:"This puffball mushroom contains sugary spores, but it never seems to mature to bursting on its own. Surrounding plants under its influence have a very slow metabolism, reducing their effects but lengthening their lifespan.",onHarvest:function(e,o,t){t>=this.mature&&k.dropUpgrade("Ichor syrup",.005)}}},k.plantsById=[];var o=0;for(i in k.plants){var t=k.plants[i];t.unlocked=0,t.id=o,t.key=i,t.matureBase=t.mature,void 0===(k.plantsById[o]=t).plantable&&(t.plantable=!0),t.q=loc(FindLocStringByPart(t.name+" quote")),t.name=loc(t.name),o++}for(i in k.plantsN=k.plantsById.length,k.plantsUnlockedN=0,k.getUnlockedN=function(){for(var e in k.plantsUnlockedN=0,k.plants)k.plants[e].unlocked&&k.plantsUnlockedN++;return k.plantsUnlockedN>=k.plantsN?(Game.Win("Keeper of the conservatory"),l("gardenTool-3").classList.remove("locked")):l("gardenTool-3").classList.add("locked"),k.plantsUnlockedN},k.dropUpgrade=function(e,o){!Game.Has(e)&&Math.random()<=o*Game.dropRateMult()*(Game.HasAchiev("Seedless to nay")?1.05:1)&&Game.Unlock(e)},k.computeMatures=function(){var e,o=1;for(e in Game.HasAchiev("Seedless to nay")&&(o=.95),k.plants)k.plants[e].mature=k.plants[e].matureBase*o},k.plantContam={},k.plants)k.plants[i].contam&&(k.plantContam[k.plants[i].key]=k.plants[i].contam);for(i in k.getMuts=function(e,o){var t=[];return 2<=o.bakerWheat&&t.push(["bakerWheat",.2],["thumbcorn",.05],["bakeberry",.001]),1<=o.bakerWheat&&1<=o.thumbcorn&&t.push(["cronerice",.01]),2<=o.thumbcorn&&t.push(["thumbcorn",.1],["bakerWheat",.05]),1<=o.cronerice&&1<=o.thumbcorn&&t.push(["gildmillet",.03]),2<=o.cronerice&&t.push(["thumbcorn",.02]),1<=o.bakerWheat&&1<=o.gildmillet&&t.push(["clover",.03],["goldenClover",7e-4]),1<=o.clover&&1<=o.gildmillet&&t.push(["shimmerlily",.02]),2<=o.clover&&e.clover<5&&t.push(["clover",.007],["goldenClover",1e-4]),4<=o.clover&&t.push(["goldenClover",7e-4]),1<=o.shimmerlily&&1<=o.cronerice&&t.push(["elderwort",.01]),1<=o.wrinklegill&&1<=o.cronerice&&t.push(["elderwort",.002]),1<=o.bakerWheat&&1<=e.brownMold&&t.push(["chocoroot",.1]),1<=o.chocoroot&&1<=e.whiteMildew&&t.push(["whiteChocoroot",.1]),1<=o.whiteMildew&&e.brownMold<=1&&t.push(["brownMold",.5]),1<=o.brownMold&&e.whiteMildew<=1&&t.push(["whiteMildew",.5]),1<=o.meddleweed&&e.meddleweed<=3&&t.push(["meddleweed",.15]),1<=o.shimmerlily&&1<=o.whiteChocoroot&&t.push(["whiskerbloom",.01]),1<=o.shimmerlily&&1<=o.whiskerbloom&&t.push(["chimerose",.05]),2<=o.chimerose&&t.push(["chimerose",.005]),2<=o.whiskerbloom&&t.push(["nursetulip",.05]),1<=o.chocoroot&&1<=o.keenmoss&&t.push(["drowsyfern",.005]),(1<=o.cronerice&&1<=o.keenmoss||1<=o.cronerice&&1<=o.whiteMildew)&&t.push(["wardlichen",.005]),1<=o.wardlichen&&e.wardlichen<2&&t.push(["wardlichen",.05]),1<=o.greenRot&&1<=o.brownMold&&t.push(["keenmoss",.1]),1<=o.keenmoss&&e.keenmoss<2&&t.push(["keenmoss",.05]),1<=o.chocoroot&&1<=o.bakeberry&&t.push(["queenbeet",.01]),8<=o.queenbeet&&t.push(["queenbeetLump",.001]),2<=o.queenbeet&&t.push(["duketater",.001]),1<=o.crumbspore&&e.crumbspore<=1&&t.push(["crumbspore",.07]),1<=o.crumbspore&&1<=o.thumbcorn&&t.push(["glovemorel",.02]),1<=o.crumbspore&&1<=o.shimmerlily&&t.push(["cheapcap",.04]),1<=o.doughshroom&&1<=o.greenRot&&t.push(["foolBolete",.04]),2<=o.crumbspore&&t.push(["doughshroom",.005]),1<=o.doughshroom&&e.doughshroom<=1&&t.push(["doughshroom",.07]),2<=o.doughshroom&&t.push(["crumbspore",.005]),1<=o.crumbspore&&1<=o.brownMold&&t.push(["wrinklegill",.06]),1<=o.whiteMildew&&1<=o.clover&&t.push(["greenRot",.05]),1<=o.wrinklegill&&1<=o.elderwort&&t.push(["shriekbulb",.001]),5<=o.elderwort&&t.push(["shriekbulb",.001]),3<=e.duketater&&t.push(["shriekbulb",.005]),4<=e.doughshroom&&t.push(["shriekbulb",.002]),5<=o.queenbeet&&t.push(["shriekbulb",.001]),1<=e.shriekbulb&&e.shriekbulb<2&&t.push(["shriekbulb",.005]),1<=o.bakerWheat&&1<=o.whiteChocoroot&&t.push(["tidygrass",.002]),3<=o.tidygrass&&3<=o.elderwort&&t.push(["everdaisy",.002]),1<=o.elderwort&&1<=o.crumbspore&&t.push(["ichorpuff",.002]),t},k.computeBoostPlot=function(){for(var e=0;e<6;e++)for(var o=0;o<6;o++)k.plotBoost[e][o]=[1,1,1];for(e=0;e<6;e++)for(o=0;o<6;o++)if(0<(a=k.plot[e][o])[0]){var t=(l=k.plantsById[a[0]-1]).key,i=0,i=a[1]>=l.mature?4:a[1]>=.666*l.mature?3:a[1]>=.333*l.mature?2:1,a=k.soilsById[k.soil].effMult,l=(a*=1==i?.1:2==i?.25:3==i?.5:1,1),i=1,n=1,s=0;if("elderwort"==t?(l=1.03,s=1):"queenbeetLump"==t?(i=.8,s=1):"nursetulip"==t?(i=1.2,s=1):"shriekbulb"==t?(i=.95,s=1):"tidygrass"==t?(n=0,s=2):"everdaisy"==t?(n=0,s=1):"ichorpuff"==t&&(i=l=.5,s=1),l=1<=l?(l-1)*a+1:1<=a?1/(1/l*a):1-(1-l)*a,i=1<=i?(i-1)*a+1:1<=a?1/(1/i*a):1-(1-i)*a,0<s)for(var r=g=m=void 0,d=o,c=e,p=s,u=[l,i,n],m=Math.max(0,c-p);m<Math.min(6,c+p+1);m++)for(var g=Math.max(0,d-p);g<Math.min(6,d+p+1);g++)if(d!=g||c!=m)for(var r=0;r<u.length;r++)k.plotBoost[m][g][r]*=u[r]}},k.computeEffs=function(){k.toCompute=!1;var e={cps:1,click:1,cursorCps:1,grandmaCps:1,goldenCookieGain:1,goldenCookieFreq:1,goldenCookieDur:1,goldenCookieEffDur:1,wrathCookieGain:1,wrathCookieFreq:1,wrathCookieDur:1,wrathCookieEffDur:1,reindeerGain:1,reindeerFreq:1,reindeerDur:1,itemDrops:1,milk:1,wrinklerSpawn:1,wrinklerEat:1,upgradeCost:1,buildingCost:1};if(!k.freeze)for(var o=k.soilsById[k.soil].effMult,t=0;t<6;t++)for(var i=0;i<6;i++){var a,l,n,s=k.plot[t][i];0<s[0]&&(l=(a=k.plantsById[s[0]-1]).key,n=o,n=(n*=1==(s=s[1]>=a.mature?4:s[1]>=.666*a.mature?3:s[1]>=.333*a.mature?2:1)?.1:2==s?.25:3==s?.5:1)*k.plotBoost[t][i][1],"bakerWheat"==l?e.cps+=.01*n:"thumbcorn"==l?e.click+=.02*n:"cronerice"==l?e.grandmaCps+=.03*n:"gildmillet"==l?(e.goldenCookieGain+=.01*n,e.goldenCookieEffDur+=.001*n):"clover"==l?e.goldenCookieFreq+=.01*n:"goldenClover"==l?e.goldenCookieFreq+=.03*n:"shimmerlily"==l?(e.goldenCookieGain+=.01*n,e.goldenCookieFreq+=.01*n,e.itemDrops+=.01*n):"elderwort"==l?(e.wrathCookieGain+=.01*n,e.wrathCookieFreq+=.01*n,e.grandmaCps+=.01*n):"bakeberry"==l||"chocoroot"==l?e.cps+=.01*n:"whiteChocoroot"==l?e.goldenCookieGain+=.01*n:"whiteMildew"==l?e.cps+=.01*n:"brownMold"==l?e.cps*=1-.01*n:"meddleweed"!=l&&("whiskerbloom"==l?e.milk+=.002*n:"chimerose"==l?(e.reindeerGain+=.01*n,e.reindeerFreq+=.01*n):"nursetulip"==l?e.cps*=1-.02*n:"drowsyfern"==l?(e.cps+=.03*n,e.click*=1-.05*n,e.goldenCookieFreq*=1-.1*n):"wardlichen"==l?(e.wrinklerSpawn*=1-.15*n,e.wrathCookieFreq*=1-.02*n):"keenmoss"==l?e.itemDrops+=.03*n:"queenbeet"==l?(e.goldenCookieEffDur+=.003*n,e.cps*=1-.02*n):"queenbeetLump"==l?e.cps*=1-.1*n:"glovemorel"==l?(e.click+=.04*n,e.cursorCps+=.01*n,e.cps*=1-.01*n):"cheapcap"==l?(e.upgradeCost*=1-.002*n,e.buildingCost*=1-.002*n):"foolBolete"==l?(e.goldenCookieFreq+=.02*n,e.goldenCookieGain*=1-.05*n,e.goldenCookieDur*=1-.02*n,e.goldenCookieEffDur*=1-.02*n):"wrinklegill"==l?(e.wrinklerSpawn+=.02*n,e.wrinklerEat+=.01*n):"greenRot"==l?(e.goldenCookieDur+=.005*n,e.goldenCookieFreq+=.01*n,e.itemDrops+=.01*n):"shriekbulb"==l&&(e.cps*=1-.02*n)))}k.effs=e,Game.recalculateGains=1},k.soils={dirt:{name:loc("Dirt"),icon:0,tick:5,effMult:1,weedMult:1,req:0,effsStr:'<div class="gray">&bull; '+loc("tick every %1","<b>"+Game.sayTime(300*Game.fps)+"</b>")+"</div>",q:loc("Simple, regular old dirt that you'd find in nature.")},fertilizer:{name:loc("Fertilizer"),icon:1,tick:3,effMult:.75,weedMult:1.2,req:50,effsStr:'<div class="gray">&bull; '+loc("tick every %1","<b>"+Game.sayTime(180*Game.fps)+"</b>")+'</div><div class="red">&bull; '+loc("passive plant effects")+' <b>-25%</b></div><div class="red">&bull; '+loc("weed growth")+" <b>+20%</b></div>",q:loc("Soil with a healthy helping of fresh manure. Plants grow faster but are less efficient.")},clay:{name:loc("Clay"),icon:2,tick:15,effMult:1.25,weedMult:1,req:100,effsStr:'<div class="gray">&bull; '+loc("tick every %1","<b>"+Game.sayTime(900*Game.fps)+"</b>")+'</div><div class="green">&bull; '+loc("passive plant effects")+" <b>+25%</b></div>",q:loc("Rich soil with very good water retention. Plants grow slower but are more efficient.")},pebbles:{name:loc("Pebbles"),icon:3,tick:5,effMult:.25,weedMult:.1,req:200,effsStr:'<div class="gray">&bull; '+loc("tick every %1","<b>"+Game.sayTime(300*Game.fps)+"</b>")+'</div><div class="red">&bull; '+loc("passive plant effects")+' <b>-75%</b></div><div class="green">&bull; '+loc("<b>%1% chance</b> of collecting seeds automatically when plants expire",35)+'</div><div class="green">&bull; '+loc("weed growth")+" <b>-90%</b></div>",q:loc("Dry soil made of small rocks tightly packed together. Not very conducive to plant health, but whatever falls off your crops will be easy to retrieve.<br>Useful if you're one of those farmers who just want to find new seeds without having to tend their garden too much.")},woodchips:{name:loc("Wood chips"),icon:4,tick:5,effMult:.25,weedMult:.1,req:300,effsStr:'<div class="gray">&bull; '+loc("tick every %1","<b>"+Game.sayTime(300*Game.fps)+"</b>")+'</div><div class="red">&bull; '+loc("passive plant effects")+' <b>-75%</b></div><div class="green">&bull; '+loc("plants spread and mutate <b>%1 times more</b>",3)+'</div><div class="green">&bull; '+loc("weed growth")+" <b>-90%</b></div>",q:loc("Soil made of bits and pieces of bark and sawdust. Helpful for young sprouts to develop, not so much for mature plants.")}},k.soilsById=[],o=0,k.soils)k.soils[i].id=o,k.soils[i].key=i,k.soilsById[o]=k.soils[i],o++;k.tools={info:{name:loc("Garden information"),icon:3,desc:"-",descFunc:function(){var e="";if(k.freeze)e=loc("Your garden is frozen, providing no effects.");else{var o={cps:{n:"CpS"},click:{n:"cookies/click"},cursorCps:{n:"cursor CpS"},grandmaCps:{n:"grandma CpS"},goldenCookieGain:{n:"golden cookie gains"},goldenCookieFreq:{n:"golden cookie frequency"},goldenCookieDur:{n:"golden cookie duration"},goldenCookieEffDur:{n:"golden cookie effect duration"},wrathCookieGain:{n:"wrath cookie gains"},wrathCookieFreq:{n:"wrath cookie frequency"},wrathCookieDur:{n:"wrath cookie duration"},wrathCookieEffDur:{n:"wrath cookie effect duration"},reindeerGain:{n:"reindeer gains"},reindeerFreq:{n:"reindeer frequency"},reindeerDur:{n:"reindeer duration"},itemDrops:{n:"random drops"},milk:{n:"milk effects"},wrinklerSpawn:{n:"wrinkler spawn rate"},wrinklerEat:{n:"wrinkler appetite"},upgradeCost:{n:"upgrade costs",rev:!0},buildingCost:{n:"building costs",rev:!0}};for(t in o)o[t].n=loc(o[t].n);var t,i,a="";for(t in k.effs)1!=k.effs[t]&&o[t]&&(i=100*(k.effs[t]-1),a+='<div style="font-size:10px;margin-left:64px;"><b>&bull; '+o[t].n+'</b> <span class="'+(0<i*(o[t].rev?-1:1)?"green":"red")+'">'+(0<i?"+":"-")+Beautify(100*Math.abs(k.effs[t]-1),2)+"%</span></div>");""==a&&(a='<div style="font-size:10px;margin-left:64px;"><b>'+loc("None.")+"</b></div>"),e+="<div>"+loc("Combined effects of all your plants:")+"</div>"+a}return(e+='<div class="line"></div>')+'<img src="'+Game.resPath+'img/gardenTip.png" style="float:right;margin:0px 0px 8px 8px;"/><small style="line-height:100%;">'+(EN?"&bull; You can cross-breed plants by planting them close to each other; new plants will grow in the empty tiles next to them.<br>&bull; Unlock new seeds by harvesting mature plants.<br>&bull; When you ascend, your garden plants are reset, but you keep all the seeds you've unlocked.<br>&bull; Your garden has no effect and does not grow while the game is closed.":loc("-You can cross-breed plants by planting them close to each other; new plants will grow in the empty tiles next to them.<br>-Unlock new seeds by harvesting mature plants.<br>-When you ascend, your garden plants are reset, but you keep all the seeds you've unlocked.<br>-Your garden has no effect and does not grow while the game is closed."))+"</small>"},func:function(){}},harvestAll:{name:loc("Harvest all"),icon:0,descFunc:function(){return loc("Instantly harvest all plants in your garden.")+'<div class="line"></div>'+(EN&&Game.keys[16]&&Game.keys[17]?"<b>You are holding shift+ctrl.</b> Only mature, mortal plants will be harvested.":loc("%1 to harvest only mature, mortal plants.",loc("Shift")+"+"+loc("Ctrl")+"+"+loc("Click")))},func:function(){PlaySound("snd/toneTick.mp3"),Game.keys[16]&&Game.keys[17]?k.harvestAll(0,1,1):k.harvestAll()}},freeze:{name:loc("Freeze"),icon:1,descFunc:function(){return loc('Cryogenically preserve your garden.<br>Plants no longer grow, spread or die; they provide no benefits.<br>Soil cannot be changed.<div class="line"></div>Using this will effectively pause your garden.')},func:function(){if(PlaySound("snd/toneTick.mp3"),k.freeze=k.freeze?0:1,k.freeze){k.computeEffs(),PlaySound("snd/freezeGarden.mp3"),this.classList.add("on"),l("gardenContent").classList.add("gardenFrozen");for(var e=0;e<6;e++)for(var o=0;o<6;o++){var t,i=k.plot[e][o];0<i[0]&&(t=k.plantsById[i[0]-1],i=i[1],"cheapcap"==t.key)&&Math.random()<.15&&(k.plot[e][o]=[0,0],t.onKill&&t.onKill(o,e,i),k.toRebuild=!0)}}else k.computeEffs(),this.classList.remove("on"),l("gardenContent").classList.remove("gardenFrozen")},isOn:function(){return k.freeze?l("gardenContent").classList.add("gardenFrozen"):l("gardenContent").classList.remove("gardenFrozen"),k.freeze}},convert:{name:loc("Sacrifice garden"),icon:2,desc:loc('A swarm of sugar hornets comes down on your garden, <span class="red">destroying every plant as well as every seed you\'ve unlocked</span> - leaving only a %1 seed.<br>In exchange, they will grant you <span class="green">%2</span>.<br>This action is only available with a complete seed log.',[loc("Baker's wheat"),loc("%1 sugar lump",LBeautify(10))]),func:function(){PlaySound("snd/toneTick.mp3"),k.askConvert()},isDisplayed:function(){return k.plantsUnlockedN>=k.plantsN}}},k.toolsById=[];var i,o=0;for(i in k.tools)k.tools[i].id=o,k.tools[i].key=i,k.toolsById[o]=k.tools[i],o++;k.plot=[];for(var a=0;a<6;a++){k.plot[a]=[];for(var n=0;n<6;n++)k.plot[a][n]=[0,0]}for(k.plotBoost=[],a=0;a<6;a++)for(k.plotBoost[a]=[],n=0;n<6;n++)k.plotBoost[a][n]=[1,1,1];k.tileSize=40,k.seedSelected=-1,k.soil=0,k.nextSoil=0,k.stepT=1,k.nextStep=0,k.harvests=0,k.harvestsTotal=0,k.loopsMult=1,k.toRebuild=!1,k.toCompute=!1,k.freeze=0,k.nextFreeze=0,k.getCost=function(e){return Game.Has("Turbo-charged soil")?0:Math.max(e.costM,Game.cookiesPs*e.cost*60)*(Game.HasAchiev("Seedless to nay")?.95:1)},k.getPlantDesc=function(e){var o,t="";if(0<e.children.length){for(var i in t+='<div class="shadowFilter" style="display:inline-block;">',e.children)k.plants[e.children[i]]?(o=k.plants[e.children[i]]).unlocked?t+='<div class="gardenSeedTiny" style="background-position:0px '+48*-o.icon+'px;"></div>':t+='<div class="gardenSeedTiny" style="background-image:url('+Game.resPath+"img/icons.png?v="+Game.version+");background-position:"+-0+"px "+-336+'px;opacity:0.35;"></div>':console.log("No plant named "+e.children[i]);t+="</div>"}var a=1/(1+.05*Game.auraMult("Supreme Intellect"));return'<div class="description">'+(e.immortal?"":'<div style="margin:6px 0px;font-size:11px;"><b>'+loc("Average lifespan:")+"</b> "+Game.sayTime(100/(e.ageTick+e.ageTickR/2)*a*k.stepT*30,-1)+" <small>("+loc("%1 tick",LBeautify(Math.ceil(100/((e.ageTick+e.ageTickR/2)/a)*1)))+")</small></div>")+'<div style="margin:6px 0px;font-size:11px;"><b>'+loc("Average maturation:")+"</b> "+Game.sayTime(100/(e.ageTick+e.ageTickR/2)*(e.mature/100)*a*k.stepT*30,-1)+" <small>("+loc("%1 tick",LBeautify(Math.ceil(100/((e.ageTick+e.ageTickR/2)/a)*(e.mature/100))))+")</small></div>"+(e.weed?'<div style="margin:6px 0px;font-size:11px;"><b>'+(EN?"Is a weed":loc("Weed"))+"</b></div>":"")+(e.fungus?'<div style="margin:6px 0px;font-size:11px;"><b>'+(EN?"Is a fungus":loc("Fungus"))+"</b></div>":"")+(e.detailsStr?'<div style="margin:6px 0px;font-size:11px;"><b>'+loc("Details:")+"</b> "+e.detailsStr+"</div>":"")+(""!=t?'<div style="margin:6px 0px;font-size:11px;"><b>'+loc("Possible mutations:")+"</b> "+t+"</div>":"")+'<div class="line"></div><div style="margin:6px 0px;"><b>'+loc("Effects:")+'</b> <span style="font-size:11px;">('+loc("while plant is alive; scales with plant growth")+')</span></div><div style="font-size:11px;font-weight:bold;">'+e.effsStr+"</div>"+(e.q?"<q>"+e.q+"</q>":"")+"</div>"},k.canPlant=function(e){return Game.cookies>=k.getCost(e)},k.cursor=1,k.hideCursor=function(){k.cursor=0},k.showCursor=function(){k.cursor=1},k.soilTooltip=function(o){return function(){var e=k.soilsById[o];return'<div style="padding:8px 4px;min-width:350px;" id="tooltipGardenSoil">'+(k.parent.amount<e.req?'<div style="text-align:center;">'+loc("Soil unlocked at %1 farms.",e.req)+"</div>":'<div class="icon" style="background:url('+Game.resPath+"img/gardenPlants.png?v="+Game.version+");float:left;margin-left:-8px;margin-top:-8px;background-position:"+48*-e.icon+"px "+-1632+'px;"></div><div><div class="name">'+e.name+"</div><div><small>"+(k.soil==e.id?loc("Your field is currently using this soil."):k.nextSoil>Date.now()?loc("You will be able to change your soil again in %1.",Game.sayTime((k.nextSoil-Date.now())/1e3*30+30,-1)):loc("Click to use this type of soil for your whole field."))+'</small></div></div><div class="line"></div><div class="description"><div style="margin:6px 0px;"><b>'+loc("Effects:")+'</b></div><div style="font-size:11px;font-weight:bold;">'+e.effsStr+"</div>"+(e.q?"<q>"+e.q+"</q>":"")+"</div>")+"</div>"}},k.seedTooltip=function(o){return function(){var e=k.plantsById[o];return'<div style="padding:8px 4px;min-width:400px;" id="tooltipGardenSeed"><div class="icon" style="background:url('+Game.resPath+"img/gardenPlants.png?v="+Game.version+");float:left;margin-left:-24px;margin-top:-4px;background-position:"+-0+"px "+48*-e.icon+'px;"></div><div class="icon" style="background:url('+Game.resPath+"img/gardenPlants.png?v="+Game.version+");float:left;margin-left:-24px;margin-top:-28px;background-position:"+-192+"px "+48*-e.icon+'px;"></div><div style="background:url('+Game.resPath+'img/turnInto.png);width:20px;height:22px;position:absolute;left:28px;top:24px;z-index:1000;"></div>'+(e.plantable?'<div style="float:right;text-align:right;width:100px;"><small>'+loc("Planting cost:")+'</small><br><span class="price'+(k.canPlant(e)?"":" disabled")+'">'+Beautify(Math.round(shortenNumber(k.getCost(e))))+"</span><br><small>"+loc("%1 of CpS,<br>minimum %2",[Game.sayTime(60*e.cost*30,-1),loc("%1 cookie",LBeautify(e.costM))])+"</small></div>":"")+'<div style="width:300px;"><div class="name">'+cap(loc("%1 seed",e.name))+"</div><div><small>"+(e.plantable?loc("Click to select this seed for planting."):'<span class="red">'+loc("This seed cannot be planted.")+"</span>")+"<br>"+loc("%1 to harvest all mature plants of this type.",loc("Shift")+"+"+loc("Ctrl")+"+"+loc("Click"))+'</small></div></div><div class="line"></div>'+k.getPlantDesc(e)+"</div>"}},k.toolTooltip=function(t){return function(){var e=k.toolsById[t],o=[e.icon,35];return'<div style="padding:8px 4px;min-width:350px;" id="tooltipGardenTool"><div class="icon" style="background:url('+Game.resPath+"img/gardenPlants.png?v="+Game.version+");float:left;margin-left:-8px;margin-top:-8px;background-position:"+48*-o[0]+"px "+48*-o[1]+'px;"></div><div><div class="name">'+e.name+'</div></div><div class="line"></div><div class="description">'+(e.descFunc?e.descFunc():e.desc)+"</div></div>"}},k.tileTooltip=function(l,n){return function(){var e,o,t,i,a;return Game.keys[16]?"":0==(e=k.plot[n][l])[0]?(o=0<=k.seedSelected?k.plantsById[k.seedSelected]:0,'<div style="padding:8px 4px;min-width:350px;text-align:center;" id="tooltipGardenTile"><div class="name">'+loc("Empty tile")+'</div><div class="line"></div><div class="description">'+loc("This tile of soil is empty.<br>Pick a seed and plant something!")+(o?'<div class="line"></div>'+loc("Click to plant %1 for %2.",["<b>"+o.name+"</b>",'<span class="price'+(k.canPlant(o)?"":" disabled")+'">'+Beautify(Math.round(k.getCost(o)))+"</span>"])+"<br><small>("+loc("%1 to plant multiple.",loc("Shift-click"))+")</small>"+(EN?"<br><small>(Holding the shift key pressed will also hide tooltips.)</small>":""):"")+(1!=k.plotBoost[n][l][0]?"<br><small>"+loc("Aging multiplier:")+" "+Beautify(100*k.plotBoost[n][l][0])+"%</small>":"")+(1!=k.plotBoost[n][l][1]?"<br><small>"+loc("Effect multiplier:")+" "+Beautify(100*k.plotBoost[n][l][1])+"%</small>":"")+(1!=k.plotBoost[n][l][2]?"<br><small>"+loc("Weeds/fungus repellent:")+" "+Beautify(100-100*k.plotBoost[n][l][2])+"%</small>":"")+"</div></div>"):(o=k.plantsById[e[0]-1],t=e[1]>=o.mature?4:e[1]>=.666*o.mature?3:e[1]>=.333*o.mature?2:1,i=1/(1+.05*Game.auraMult("Supreme Intellect")),a=[t,o.icon],'<div style="padding:8px 4px;min-width:350px;"><div class="icon" style="background:url('+Game.resPath+"img/gardenPlants.png?v="+Game.version+");float:left;margin-left:-8px;margin-top:-8px;background-position:"+48*-a[0]+"px "+48*-a[1]+'px;"></div><div class="name">'+o.name+"</div><div><small>"+loc("This plant is growing here.")+'</small></div><div class="line"></div><div style="text-align:center;"><div style="display:inline-block;position:relative;box-shadow:0px 0px 0px 1px #000,0px 0px 0px 1px rgba(255,255,255,0.5) inset,0px -2px 2px 0px rgba(255,255,255,0.5) inset;width:256px;height:6px;background:linear-gradient(to right,#fff 0%,#0f9 '+o.mature+"%,#3c0 "+(o.mature+.1)+'%,#960 100%)"><div class="gardenGrowthIndicator" style="left:'+Math.floor(e[1]/100*256)+'px;"></div><div style="background:url('+Game.resPath+"img/gardenPlants.png?v="+Game.version+");background-position:"+-48+"px "+48*-a[1]+"px;position:absolute;left:"+-24+'px;top:-32px;transform:scale(0.5,0.5);width:48px;height:48px;"></div><div style="background:url('+Game.resPath+"img/gardenPlants.png?v="+Game.version+");background-position:"+-96+"px "+48*-a[1]+"px;position:absolute;left:"+(.333*o.mature/100*256-24)+'px;top:-32px;transform:scale(0.5,0.5);width:48px;height:48px;"></div><div style="background:url('+Game.resPath+"img/gardenPlants.png?v="+Game.version+");background-position:"+-144+"px "+48*-a[1]+"px;position:absolute;left:"+(.666*o.mature/100*256-24)+'px;top:-32px;transform:scale(0.5,0.5);width:48px;height:48px;"></div><div style="background:url('+Game.resPath+"img/gardenPlants.png?v="+Game.version+");background-position:"+-192+"px "+48*-a[1]+"px;position:absolute;left:"+(o.mature/100*256-24)+'px;top:-32px;transform:scale(0.5,0.5);width:48px;height:48px;"></div></div><br><b>'+loc("Stage:")+"</b> "+loc(["bud","sprout","bloom","mature"][t-1])+"<br><small>"+(1==t?loc("Plant effects:")+" 10%":2==t?loc("Plant effects:")+" 25%":3==t?loc("Plant effects:")+" 50%":loc("Plant effects:")+" 100%; "+loc("may reproduce, will drop seed when harvested"))+"</small><br><small>"+(t<4?loc("Mature in about %1",Game.sayTime(100/(k.plotBoost[n][l][0]*(o.ageTick+o.ageTickR/2))*((o.mature-e[1])/100)*i*k.stepT*30,-1))+" ("+loc("%1 tick",LBeautify(Math.ceil(100/(k.plotBoost[n][l][0]*(o.ageTick+o.ageTickR/2)/i)*((o.mature-e[1])/100))))+")":o.immortal?loc("Does not decay"):loc("Decays in about %1",Game.sayTime(100/(k.plotBoost[n][l][0]*(o.ageTick+o.ageTickR/2))*((100-e[1])/100)*i*k.stepT*30,-1))+" ("+loc("%1 tick",LBeautify(Math.ceil(100/(k.plotBoost[n][l][0]*(o.ageTick+o.ageTickR/2)/i)*((100-e[1])/100))))+")")+"</small>"+(1!=k.plotBoost[n][l][0]?"<br><small>"+loc("Aging multiplier:")+" "+Beautify(100*k.plotBoost[n][l][0])+"%</small>":"")+(1!=k.plotBoost[n][l][1]?"<br><small>"+loc("Effect multiplier:")+" "+Beautify(100*k.plotBoost[n][l][1])+"%</small>":"")+(1!=k.plotBoost[n][l][2]?"<br><small>"+loc("Weeds/fungus repellent:")+" "+Beautify(100-100*k.plotBoost[n][l][2])+"%</small>":"")+'</div><div class="line"></div><div style="text-align:center;">'+(4==t?loc("Click to harvest."):loc("Click to unearth."))+'</div><div class="line"></div>'+k.getPlantDesc(o)+"</div>")}},k.refillTooltip=function(){return'<div style="padding:8px;width:300px;font-size:11px;text-align:center;" id="tooltipRefill">'+loc("Click to refill your soil timer and trigger <b>1</b> plant growth tick with <b>x%1</b> spread and mutation rate for %2.",[3,'<span class="price lump">'+loc("%1 sugar lump",LBeautify(1))+"</span>"])+(Game.canRefillLump()?"<br><small>("+loc("can be done once every %1",Game.sayTime(Game.getLumpRefillMax(),-1))+")</small>":'<br><small class="red">('+loc("usable again in %1",Game.sayTime(Game.getLumpRefillRemaining()+Game.fps,-1))+")</small>")+"</div>"},k.buildPanel=function(){if(!l("gardenSeeds"))return!1;var e="";for(i in k.plants){var o=[0,(t=k.plants[i]).icon];e=(e+='<div id="gardenSeed-'+t.id+'" class="gardenSeed'+(k.seedSelected==t.id?" on":"")+' locked" '+Game.getDynamicTooltip("Game.ObjectsById["+k.parent.id+"].minigame.seedTooltip("+t.id+")","this")+">")+'<div id="gardenSeedIcon-'+t.id+'" class="gardenSeedIcon shadowFilter" style="background-position:'+48*-o[0]+"px "+48*-o[1]+'px;"></div></div>'}for(i in l("gardenSeeds").innerHTML=e,k.plants)(t=k.plants[i]).l=l("gardenSeed-"+t.id),AddEvent(t.l,"click",function(o){return function(){if(Game.keys[16]&&Game.keys[17])return k.harvestAll(o,1),!1;if(!o.plantable&&!Game.sesame)return!1;for(var e in k.seedSelected==o.id?k.seedSelected=-1:(k.seedSelected=o.id,PlaySound("snd/toneTick.mp3")),k.plants)(e=k.plants[e]).id==k.seedSelected?e.l.classList.add("on"):e.l.classList.remove("on")}}(t)),AddEvent(t.l,"mouseover",k.hideCursor),AddEvent(t.l,"mouseout",k.showCursor),t.unlocked&&t.l.classList.remove("locked");for(i in e="",k.tools)o=[(t=k.tools[i]).icon,35],e=(e+='<div id="gardenTool-'+t.id+'" style="margin:8px;" class="gardenSeed'+(t.isOn&&t.isOn()?" on":"")+(!t.isDisplayed||t.isDisplayed()?"":" locked")+'" '+Game.getDynamicTooltip("Game.ObjectsById["+k.parent.id+"].minigame.toolTooltip("+t.id+")","this")+">")+'<div id="gardenToolIcon-'+t.id+'" class="gardenSeedIcon shadowFilter" style="background-position:'+48*-o[0]+"px "+48*-o[1]+'px;"></div></div>';for(i in l("gardenTools").innerHTML=e,k.tools){var t=k.tools[i];AddEvent(l("gardenTool-"+t.id),"click",t.func),AddEvent(l("gardenTool-"+t.id),"mouseover",k.hideCursor),AddEvent(l("gardenTool-"+t.id),"mouseout",k.showCursor)}var i,e="";for(i in k.soils)o=[(t=k.soils[i]).icon,34],e=(e+='<div id="gardenSoil-'+t.id+'" class="gardenSeed gardenSoil disabled'+(k.soil==t.id?" on":"")+'" '+Game.getDynamicTooltip("Game.ObjectsById["+k.parent.id+"].minigame.soilTooltip("+t.id+")","this")+">")+'<div id="gardenSoilIcon-'+t.id+'" class="gardenSeedIcon shadowFilter" style="background-position:'+48*-o[0]+"px "+48*-o[1]+'px;"></div></div>';for(i in l("gardenSoils").innerHTML=e,k.soils)t=k.soils[i],AddEvent(l("gardenSoil-"+t.id),"click",function(o){return function(){if(k.freeze||k.soil==o.id||k.nextSoil>Date.now()||k.parent.amount<o.req)return!1;for(var e in PlaySound("snd/toneTick.mp3"),k.nextSoil=Date.now()+(Game.Has("Turbo-charged soil")?1:6e5),k.toCompute=!0,k.soil=o.id,k.computeStepT(),k.soils)(e=k.soils[e]).id==k.soil?l("gardenSoil-"+e.id).classList.add("on"):l("gardenSoil-"+e.id).classList.remove("on")}}(t)),AddEvent(l("gardenSoil-"+t.id),"mouseover",k.hideCursor),AddEvent(l("gardenSoil-"+t.id),"mouseout",k.showCursor);k.cursorL=l("gardenCursor")},k.buildPlot=function(){if(k.toRebuild=!1,!l("gardenPlot"))return!1;if(!l("gardenTile-0-0")){for(var e="",o=0;o<6;o++)for(var t=0;t<6;t++)e=(e+='<div id="gardenTile-'+t+"-"+o+'" class="gardenTile" style="left:'+t*k.tileSize+"px;top:"+o*k.tileSize+'px;display:none;" '+Game.getDynamicTooltip("Game.ObjectsById["+k.parent.id+"].minigame.tileTooltip("+t+","+o+")","this")+">")+'<div id="gardenTileIcon-'+t+"-"+o+'" class="gardenTileIcon" style="display:none;"></div></div>';for(l("gardenPlot").innerHTML=e,o=0;o<6;o++)for(t=0;t<6;t++)AddEvent(l("gardenTile-"+t+"-"+o),"click",function(e,o){return function(){k.clickTile(e,o)}}(t,o))}for(var i=0,o=0;o<6;o++)for(t=0;t<6;t++){var a,n,s=k.plot[o][t],r=l("gardenTile-"+t+"-"+o),d=l("gardenTileIcon-"+t+"-"+o);0<s[0]?(i++,n=k.plantsById[s[0]-1],a=s[1]>=n.mature?4:s[1]>=.666*n.mature?3:s[1]>=.333*n.mature?2:1,s=100<=s[1]+Math.ceil(n.ageTick+n.ageTickR)?1:0,a=[a,n.icon],d.style.opacity=s?.5:1,d.style.backgroundPosition=48*-a[0]+"px "+48*-a[1]+"px",d.style.display="block"):d.style.display="none",k.isTileUnlocked(t,o)?r.style.display="block":r.style.display="none"}36<=i&&Game.Win("In the garden of Eden (baby)")},k.clickTile=function(e,o){if(e=k.useTool(k.seedSelected,e,o),k.toCompute=!0,e&&!Game.keys[16])for(var t in k.seedSelected=-1,k.plants)(t=k.plants[t]).id==k.seedSelected?l("gardenSeed-"+t.id).classList.add("on"):l("gardenSeed-"+t.id).classList.remove("on")},k.useTool=function(e,o,t){if(k.harvest(o,t,1))Game.SparkleAt(Game.mouseX,Game.mouseY),PlaySound("snd/harvest"+choose(["1","2","3"])+".mp3",1,.2);else if(0<=e&&k.canPlant(k.plantsById[e]))return k.plot[t][o]=[e+1,0],k.toRebuild=!0,Game.Spend(k.getCost(k.plantsById[e])),Game.SparkleAt(Game.mouseX,Game.mouseY),PlaySound("snd/tillb"+choose(["1","2","3"])+".mp3",1,.2),!0;return!1},k.getTile=function(e,o){return e<0||5<e||o<0||5<o||!k.isTileUnlocked(e,o)?[0,0]:k.plot[o][e]},k.plotLimits=[[2,2,4,4],[2,2,5,4],[2,2,5,5],[1,2,5,5],[1,1,5,5],[1,1,6,5],[1,1,6,6],[0,1,6,6],[0,0,6,6]],k.isTileUnlocked=function(e,o){var t=k.parent.level,t=Math.max(1,Math.min(k.plotLimits.length,t))-1;return e>=(t=k.plotLimits[t])[0]&&e<t[2]&&o>=t[1]&&o<t[3]},k.computeStepT=function(){Game.Has("Turbo-charged soil")?k.stepT=1:k.stepT=60*k.soilsById[k.soil].tick},k.convertTimes=0,k.askConvert=function(){if(k.plantsUnlockedN<k.plantsN)return!1;Game.Prompt("<h3>"+loc("Sacrifice garden")+'</h3><div class="block">'+loc("Do you REALLY want to sacrifice your garden to the sugar hornets?<br><small>You will be left with an empty plot and only the %1 seed unlocked.<br>In return, you will gain <b>%2 sugar lumps</b>.</small>",[loc("Baker's wheat"),10])+"</div>",[[loc("Yes"),"Game.ClosePrompt();Game.ObjectsById["+k.parent.id+"].minigame.convert();"],loc("No")])},k.convert=function(){if(k.plantsUnlockedN<k.plantsN)return!1;for(var e in k.harvestAll(),k.plants)k.lockSeed(k.plants[e]);k.unlockSeed(k.plants.bakerWheat),Game.gainLumps(10),Game.Notify(loc("Sacrifice!"),loc("You've sacrificed your garden to the sugar hornets, destroying your crops and your knowledge of seeds.<br>In the remains, you find <b>%1 sugar lumps</b>.",10),[29,14],12),k.seedSelected=-1,Game.Win("Seedless to nay"),k.convertTimes++,k.computeMatures(),PlaySound("snd/spellFail.mp3",.75)},k.harvestAll=function(e,o,t){for(var i=0,a=0;a<2;a++)for(var l=0;l<6;l++)for(var n,s,r,d=0;d<6;d++)1<=k.plot[l][d][0]&&(n=!0,s=k.plot[l][d],r=k.plantsById[s[0]-1],e&&r!=e&&(n=!1),t&&r.immortal&&(n=!1),n=!(o&&s[1]<r.mature)&&n)&&(i+=k.harvest(d,l)?1:0);0<i&&setTimeout(function(){PlaySound("snd/harvest1.mp3",1,.2)},50),2<i&&setTimeout(function(){PlaySound("snd/harvest2.mp3",1,.2)},150),6<i&&setTimeout(function(){PlaySound("snd/harvest3.mp3",1,.2)},250)},k.harvest=function(e,o,t){var i,a,l=k.plot[o][e];return 1<=l[0]&&(k.toCompute=!0,i=k.plantsById[l[0]-1],a=l[1],i.onHarvest&&i.onHarvest(e,o,a),l[1]>=i.mature&&(k.unlockSeed(i)&&Game.Popup("("+i.name+")<br>"+loc("Unlocked %1 seed.",i.name),Game.mouseX,Game.mouseY),k.harvests++,k.harvestsTotal++,100<=k.harvestsTotal&&Game.Win("Botany enthusiast"),1e3<=k.harvestsTotal)&&Game.Win("Green, aching thumb"),k.plot[o][e]=[0,0],i.onKill&&i.onKill(e,o,a),k.toRebuild=!0)},k.unlockSeed=function(e){return!e.unlocked&&(e.unlocked=1,e.l&&e.l.classList.remove("locked"),k.getUnlockedN(),!0)},k.lockSeed=function(e){return!e.locked&&(e.unlocked=0,e.l&&e.l.classList.add("locked"),k.getUnlockedN(),!0)},k.dragonBoostTooltip=function(){return'<div style="width:280px;padding:8px;text-align:center;" id="tooltipDragonBoost"><b>'+loc("Supreme Intellect")+'</b><div class="line"></div>'+loc("Garden plants age and mutate %1% faster.",5*Game.auraMult("Supreme Intellect"))+"</div>"};var s=(s=(s=(s=(s=(s=(s="")+("<style>#gardenBG{background:url("+Game.resPath+"img/shadedBorders.png),url("+Game.resPath+"img/BGgarden.jpg);background-size:100% 100%,auto;position:absolute;left:0px;right:0px;top:0px;bottom:16px;}#gardenContent{position:relative;box-sizing:border-box;padding:4px 24px;height:"+(6*k.tileSize+16+48+48)+"px;}.gardenFrozen{box-shadow:0px 0px 16px rgba(255,255,255,1) inset,0px 0px 48px 24px rgba(200,255,225,0.5) inset;}#gardenPanel{text-align:center;margin:0px;padding:0px;position:absolute;left:4px;top:4px;bottom:4px;right:65%;overflow-y:auto;overflow-x:hidden;box-shadow:8px 0px 8px rgba(0,0,0,0.5);}#gardenSeeds{}#gardenField{text-align:center;position:absolute;right:0px;top:0px;bottom:0px;overflow-x:auto;overflow:hidden;}#gardenPlot{position:relative;margin:8px auto;}.gardenTile{cursor:pointer;width:"+k.tileSize+"px;height:"+k.tileSize+"px;position:absolute;}.gardenTile:before{transform:translate(0,0);opacity:0.65;transition:opacity 0.2s;pointer-events:none;content:'';display:block;position:absolute;left:0px;top:0px;right:0px;bottom:0px;margin:0px;background:url("+Game.resPath+"img/gardenPlots.png);}.gardenTile:nth-child(4n+1):before{background-position:40px 0px;}.gardenTile:nth-child(4n+2):before{background-position:80px 0px;}.gardenTile:nth-child(4n+3):before{background-position:120px 0px;}.gardenTile:hover:before{opacity:1;animation:wobble 0.5s;}.noFancy .gardenTile:hover:before{opacity:1;animation:none;}.gardenTileIcon{transform:translate(0,0);pointer-events:none;transform-origin:50% 40px;width:48px;height:48px;position:absolute;left:-"+(48-k.tileSize)/2+"px;top:-"+((48-k.tileSize)/2+8)+"px;background:url("+Game.resPath+"img/gardenPlants.png?v="+Game.version+");}.gardenTile:hover .gardenTileIcon{animation:pucker 0.3s;}.noFancy .gardenTile:hover .gardenTileIcon{animation:none;}#gardenDrag{pointer-events:none;position:absolute;left:0px;top:0px;right:0px;bottom:0px;overflow:hidden;z-index:1000000001;}#gardenCursor{transition:transform 0.1s;display:none;pointer-events:none;width:48px;height:48px;position:absolute;background:url("+Game.resPath+"img/gardenPlants.png?v="+Game.version+");}.gardenSeed{cursor:pointer;display:inline-block;width:40px;height:40px;position:relative;}.gardenSeed.locked{display:none;}.gardenSeedIcon{pointer-events:none;transform:translate(0,0);display:inline-block;position:absolute;left:-4px;top:-4px;width:48px;height:48px;background:url("+Game.resPath+"img/gardenPlants.png?v="+Game.version+");}.gardenSeed:hover .gardenSeedIcon{animation:bounce 0.8s;z-index:1000000001;}.gardenSeed:active .gardenSeedIcon{animation:pucker 0.2s;}.noFancy .gardenSeed:hover .gardenSeedIcon,.noFancy .gardenSeed:active .gardenSeedIcon{animation:none;}.gardenPanelLabel{font-size:12px;width:100%;padding:2px;margin-top:4px;margin-bottom:-4px;}.gardenSeedTiny{transform:scale(0.5,0.5);margin:-20px -16px;display:inline-block;width:48px;height:48px;background:url("+Game.resPath+"img/gardenPlants.png?v="+Game.version+");}.gardenSeed.on:before{pointer-events:none;content:'';display:block;position:absolute;left:-10px;top:-10px;width:60px;height:60px;background:url("+Game.resPath)+'img/selectTarget.png);animation:wobble 0.2s ease-out;z-index:10;}.gardenGrowthIndicator{background:#000;box-shadow:0px 0px 0px 1px #fff,0px 0px 0px 2px #000,2px 2px 2px 2px rgba(0,0,0,0.5);position:absolute;top:0px;width:1px;height:6px;z-index:100;}.noFancy .gardenGrowthIndicator{background:#fff;border:1px solid #000;margin-top:-1px;margin-left:-1px;}#gardenSoils{}.gardenSoil.disabled{filter:brightness(10%);}.noFilters .gardenSoil.disabled{opacity:0.2;}#gardenInfo{position:relative;display:inline-block;margin:8px auto 0px auto;padding:8px 16px;padding-left:32px;text-align:left;font-size:11px;color:rgba(255,255,255,0.75);text-shadow:-1px 1px 0px #000;background:rgba(0,0,0,0.75);border-radius:16px;}</style><div id="gardenBG"></div><div id="gardenContent"><div id="gardenDrag"><div id="gardenCursor" class="shadowFilter"></div></div><div id="gardenPanel" class="framed">')+'<div class="title gardenPanelLabel">'+loc("Tools")+'</div><div class="line"></div><div id="gardenTools"></div>')+'<div id="gardenSeedsUnlocked" class="title gardenPanelLabel">'+loc("Seeds")+'</div><div class="line"></div><div id="gardenSeeds"></div></div><div id="gardenField">')+'<div style="pointer-events:none;opacity:0.75;position:absolute;left:0px;right:0px;top:8px;" id="gardenPlotSize"></div><div id="gardenPlot" class="shadowFilter" style="width:'+6*k.tileSize+"px;height:"+6*k.tileSize+'px;"></div><div style="margin-top:0px;" id="gardenSoils"></div><div id="gardenInfo">')+"<div "+Game.getDynamicTooltip("Game.ObjectsById["+k.parent.id+"].minigame.refillTooltip","this")+' id="gardenLumpRefill" class="usesIcon shadowFilter lumpRefill" style="display:none;left:-8px;top:-6px;background-position:'+-1392+"px "+-672+'px;"></div>')+'<div id="gardenNextTick">'+loc("Initializing...")+"</div>";e.innerHTML=s+='<div id="gardenStats"></div></div></div></div>',k.buildPlot(),k.buildPanel(),k.lumpRefill=l("gardenLumpRefill"),AddEvent(k.lumpRefill,"click",function(){Game.refillLump(1,function(){k.loopsMult=3,k.nextSoil=Date.now(),k.nextStep=Date.now(),PlaySound("snd/pop"+Math.floor(3*Math.random()+1)+".mp3",.75)})}),AddEvent(l("gardenSeedsUnlocked"),"click",function(){if(Game.sesame)if(Game.keys[16]&&Game.keys[17]){for(var e=0;e<6;e++)for(var o=0;o<6;o++)k.plot[e][o]=[choose(k.plantsById).id+1,Math.floor(100*Math.random())];k.toRebuild=!0,k.toCompute=!0}else{var t=0;for(i in k.plants)k.plants[i].unlocked||t++;if(0<t)for(var i in k.plants)k.unlockSeed(k.plants[i]);else for(var i in k.plants)k.lockSeed(k.plants[i]);k.unlockSeed(k.plants.bakerWheat)}}),k.reset()},k.onResize=function(){var e=l("gardenContent").offsetWidth,o=Math.min(Math.max(.4*e,320),e-6*k.tileSize)-8,e=Math.max(Math.min(.6*e,e-o),6*k.tileSize)-8;l("gardenField").style.width=e+"px",l("gardenPanel").style.width=o+"px"},k.onLevel=function(e){k.buildPlot()},k.onRuinTheFun=function(){for(var e in k.plants)k.unlockSeed(k.plants[e])},k.save=function(){var e,o=parseFloat(k.nextStep)+":"+parseInt(k.soil)+":"+parseFloat(k.nextSoil)+":"+parseInt(k.freeze)+":"+parseInt(k.harvests)+":"+parseInt(k.harvestsTotal)+":"+parseInt(k.parent.onMinigame?"1":"0")+":"+parseFloat(k.convertTimes)+":"+parseFloat(k.nextFreeze)+": ";for(e in k.plants)o+=k.plants[e].unlocked?"1":"0";o+=" ";for(var t=0;t<6;t++)for(var i=0;i<6;i++)o+=parseInt(k.plot[t][i][0])+":"+parseInt(k.plot[t][i][1])+":";return o},k.load=function(e){if(!e)return!1;var o=0,o=(e=e.split(" "))[+o].split(":"),t=0,i=(k.nextStep=parseFloat(o[t++]||k.nextStep),k.soil=parseInt(o[t++]||k.soil),k.nextSoil=parseFloat(o[t++]||k.nextSoil),k.freeze=parseInt(o[t++]||k.freeze)?1:0,k.harvests=parseInt(o[t++]||0),k.harvestsTotal=parseInt(o[t++]||0),parseInt(o[+t]||0)&&1!=Game.ascensionMode&&k.parent.switchMinigame(1),k.convertTimes=parseFloat(o[7]||k.convertTimes),k.nextFreeze=parseFloat(o[8]||k.nextFreeze),e[1]||"");if(i){var a,l=0;for(a in k.plants)"1"==i.charAt(l)?k.plants[a].unlocked=1:k.plants[a].unlocked=0,l++}if(k.plants.bakerWheat.unlocked=1,n=e[2]||0)for(var n=n.split(":"),l=0,s=0;s<6;s++)for(var r=0;r<6;r++)k.plot[s][r]=[parseInt(n[l]),parseInt(n[l+1])],l+=2;k.getUnlockedN(),k.computeStepT(),k.buildPlot(),k.buildPanel(),k.computeBoostPlot(),k.toCompute=!0},k.reset=function(e){k.soil=0,-1<k.seedSelected&&k.plantsById[k.seedSelected].l.classList.remove("on"),k.seedSelected=-1,k.nextStep=Date.now(),k.nextSoil=Date.now(),k.nextFreeze=Date.now();for(var o,t=0;t<6;t++)for(var i=0;i<6;i++)k.plot[t][i]=[0,0];if(k.harvests=0,e)for(var a in k.convertTimes=0,k.harvestsTotal=0,k.plants)k.plants[a].unlocked=0;k.plants.bakerWheat.unlocked=1,k.loopsMult=1,k.getUnlockedN(),k.computeStepT(),k.computeMatures(),k.buildPlot(),k.buildPanel(),k.computeEffs(),k.toCompute=!0,setTimeout((o=k,function(){o.onResize()}),10)},k.logic=function(){var e=Date.now();if(!k.freeze&&(k.nextStep=Math.min(k.nextStep,e+1e3*k.stepT),e>=k.nextStep)){k.computeStepT(),k.nextStep=e+1e3*k.stepT,k.computeBoostPlot(),k.computeMatures();var o=k.soilsById[k.soil].weedMult,t=1+.05*Game.auraMult("Supreme Intellect"),i=1;"woodchips"==k.soilsById[k.soil].key&&(i=3),i=randomFloor(i*t),i*=k.loopsMult,k.loopsMult=1;for(var a=0;a<6;a++)for(var l=0;l<6;l++)if(k.isTileUnlocked(l,a)){var n=k.plot[a][l],s=k.plantsById[n[0]-1];if(0<n[0]){if(n[1]+=randomFloor((s.ageTick+s.ageTickR*Math.random())*k.plotBoost[a][l][0]*t),n[1]=Math.max(n[1],0),s.immortal)n[1]=Math.min(s.mature+1,n[1]);else if(100<=n[1])k.plot[a][l]=[0,0],s.onDie&&s.onDie(l,a),"pebbles"==k.soilsById[k.soil].key&&Math.random()<.35&&k.unlockSeed(s)&&Game.Popup(loc("Unlocked %1 seed.",s.name),Game.mouseX,Game.mouseY);else if(!s.noContam){var r=[];for(m in k.plantContam)Math.random()<k.plantContam[m]&&(!k.plants[m].weed||Math.random()<o)&&r.push(m);if((n=choose(r))&&s.key!=n&&(!k.plants[n].weed&&!k.plants[n].fungus||Math.random()<k.plotBoost[a][l][2])){var d=0,c={},p={};for(m in k.plants)c[m]=0;for(m in k.plants)p[m]=0;0<(g=k.getTile(l,a-1))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,0<(g=k.getTile(l,a+1))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,0<(g=k.getTile(l-1,a))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,0<(g=k.getTile(l+1,a))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,1<=p[n]&&(k.plot[a][l]=[k.plants[n].id+1,0])}}}else for(var u=0;u<i;u++){var m,g,h,f,d=0,c={},p={};for(m in k.plants)c[m]=0;for(m in k.plants)p[m]=0;if(0<(g=k.getTile(l,a-1))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,0<(g=k.getTile(l,a+1))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,0<(g=k.getTile(l-1,a))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,0<(g=k.getTile(l+1,a))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,0<(g=k.getTile(l-1,a-1))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,0<(g=k.getTile(l-1,a+1))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,0<(g=k.getTile(l+1,a-1))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,0<(g=k.getTile(l+1,a+1))[0]&&(h=g[1],d++,c[(g=k.plantsById[g[0]-1]).key]++,h>=g.mature)&&p[g.key]++,0<d){for(var v=k.getMuts(c,p),r=[],b=0;b<v.length;b++)Math.random()<v[b][1]&&(!k.plants[v[b][0]].weed||Math.random()<o)&&(!k.plants[v[b][0]].weed&&!k.plants[v[b][0]].fungus||Math.random()<k.plotBoost[a][l][2])&&r.push(v[b][0]);0<r.length&&(k.plot[a][l]=[k.plants[choose(r)].id+1,0])}else 0==u&&(f=.002*o*k.plotBoost[a][l][2],Math.random()<f)&&(k.plot[a][l]=[k.plants.meddleweed.id+1,0])}}k.toRebuild=!0,k.toCompute=!0}k.toRebuild&&k.buildPlot(),k.toCompute&&k.computeEffs(),Game.keys[27]&&(-1<k.seedSelected&&k.plantsById[k.seedSelected].l.classList.remove("on"),k.seedSelected=-1)},k.draw=function(){var e,o,t;if(k.cursorL&&(!k.cursor||k.seedSelected<0?k.cursorL.style.display="none":(o=l("gardenDrag").getBounds(),e=Game.mouseX-o.left-24,o=Game.mouseY-o.top-32+TopBarOffset,t=[0,k.plantsById[k.seedSelected].icon],k.cursorL.style.transform="translate("+e+"px,"+o+"px)",k.cursorL.style.backgroundPosition=48*-t[0]+"px "+48*-t[1]+"px",k.cursorL.style.display="block")),Game.drawT%10==0)for(var i in k.lumpRefill.style.display="block",k.freeze?l("gardenNextTick").innerHTML=loc("Garden is frozen. Unfreeze to resume."):l("gardenNextTick").innerHTML=loc("Next tick in %1.",Game.sayTime((k.nextStep-Date.now())/1e3*30+30,-1)),l("gardenStats").innerHTML=loc("Mature plants harvested: %1 (total: %2)",[Beautify(k.harvests),Beautify(k.harvestsTotal)]),k.parent.level<k.plotLimits.length?l("gardenPlotSize").innerHTML="<small>"+loc("Plot size: %1<br>(Upgrades with farm level)",Math.max(1,Math.min(k.plotLimits.length,k.parent.level))+"/"+k.plotLimits.length)+"</small>":l("gardenPlotSize").innerHTML="",l("gardenSeedsUnlocked").innerHTML=loc("Seeds")+"<small> ("+k.plantsUnlockedN+"/"+k.plantsN+")</small>",k.soils)i=k.soils[i],k.parent.amount<i.req?l("gardenSoil-"+i.id).classList.add("disabled"):l("gardenSoil-"+i.id).classList.remove("disabled")},k.init(l("rowSpecial"+k.parent.id))};var M=0;